var t=Object.defineProperty,e=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,n=(e,i,s)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s,o=(t,o)=>{for(var r in o||(o={}))i.call(o,r)&&n(t,r,o[r]);if(e)for(var r of e(o))s.call(o,r)&&n(t,r,o[r]);return t};import{n as r}from"../../static/js/index-b7f06778.js";import"../_vue@2.6.11@vue/_vue@2.6.11@vue.c03078e3.js";import"../_async-validator@1.8.5@async-validator/_async-validator@1.8.5@async-validator.c09928d7.js";import"../_babel-runtime@6.26.0@babel-runtime/_babel-runtime@6.26.0@babel-runtime.1c250612.js";import"../_core-js@2.6.12@core-js/_core-js@2.6.12@core-js.13372523.js";import"../_vue-router@3.6.5@vue-router/_vue-router@3.6.5@vue-router.bd9f6ef4.js";import"../_vuex@3.6.2@vuex/_vuex@3.6.2@vuex.262a7d4a.js";import"../_element-ui@2.15.12@element-ui/_element-ui@2.15.12@element-ui.46584d3e.js";import"../_deepmerge@1.5.2@deepmerge/_deepmerge@1.5.2@deepmerge.f5e035f3.js";import"../_resize-observer-polyfill@1.5.1@resize-observer-polyfill/_resize-observer-polyfill@1.5.1@resize-observer-polyfill.40e1f28c.js";import"../_throttle-debounce@1.1.0@throttle-debounce/_throttle-debounce@1.1.0@throttle-debounce.0f7e23aa.js";import"../_lodash@4.17.21@lodash/_lodash@4.17.21@lodash.7ab6e3c5.js";import"../_babel-helper-vue-jsx-merge-props@2.0.3@babel-helper-vue-jsx-merge-props/_babel-helper-vue-jsx-merge-props@2.0.3@babel-helper-vue-jsx-merge-props.f41404db.js";import"../_normalize-wheel@1.0.1@normalize-wheel/_normalize-wheel@1.0.1@normalize-wheel.d6d32fc3.js";import"../_mavon-editor@2.10.4@mavon-editor/_mavon-editor@2.10.4@mavon-editor.d3fe48f0.js";import"../_vue-prism-editor@1.3.0@vue-prism-editor/_vue-prism-editor@1.3.0@vue-prism-editor.54f71847.js";import"../_prismjs@1.29.0@prismjs/_prismjs@1.29.0@prismjs.19c5fdf7.js";const a=(t,...e)=>{let i={title:"",msg:"",duration:1e4,audioUrl:null,success:t=>{},fail:t=>{}};if(i=o(o({},i),e[0]),!t)throw new Error("_this must be not null");if(i.title)if("string"==typeof i.title&&"[object String]"!==!Object.prototype.toString.call(i.title))if("string"==typeof i.msg&&"[object String]"!==!Object.prototype.toString.call(i.msg)||!i.msg)if(i.duration=Number(i.duration),isFinite(i.duration)){if(t.$notify({title:i.title,duration:i.duration,message:i.msg,position:"bottom-right",onClick:function(){this.close()}}),i.audioUrl&&c(i.audioUrl),"denied"===Notification.permission){return"http:"==window.location.href.split("//")[0]?(i.fail({code:-1,msg:"The browser restricts http from using notification permission"}),void i.success({code:100,msg:"Web page notification succeeded but system notification failed"})):(i.fail({code:-1,msg:"Click the upper left corner to allow notification or enable notification in settings"}),void i.success({code:100,msg:"Web page notification succeeded but system notification failed"}))}"Notification"in window?"granted"===Notification.permission?(l(i.title,i.msg),i.success({code:200,msg:"success"})):(Notification.requestPermission((function(t){"granted"===t&&l(i.title,i.msg)})),i.fail({code:-1,msg:"Click the upper left corner to allow notification or enable notification in settings"}),i.success({code:100,msg:"Web page notification succeeded but system notification failed"})):i.fail({code:-1,msg:"Browser is IE"})}else i.fail({code:-1,msg:"duration must be Number or String Number"});else i.fail({code:-1,msg:"msg must be string"});else i.fail({code:-1,msg:"title must be string"});else i.fail({code:-1,msg:"title must be not null"})},l=(t,e)=>{new Notification(t,{dir:"ltr",lang:"zh-CN",body:e})},c=t=>{new Audio(t).play()};const d={props:{newIndex:{type:Boolean,default:()=>!1}},data:()=>({Text:"我是消息",Text2:"我是带有提示文字的消息",Text3:"我是提示文字",Text4:"我是控制时间的消息",Text5:"3000",Text6:"我是可以有音频地址的",Text7:"./assets/newMsg.f5063637.mp3",code1:'\n\n// 导入\nimport {notification} from "@/utils/notification.js";\n// 使用\n<div class="item">\n    <div class="my-box">\n        <el-input class="ipt" v-model="Text"  placeholder="请输入需要发送的文字"></el-input>\n        <el-button type="primary" class="btn" @click="sendMsg">发送通知</el-button>\n    </div>\n</div>\n// data\nText\n// methods\n/*\n * @name 通知\n * @parame _this 全局this\n * @parame title 标题 string 必填\n * @parame msg 详情信息 string\n * @parame audioUrl 音频地址 string\n * @parame duration 延时时间 number\n * @method success 成功返回 code 100网页成功 200网页和系统都成功\n * @method fail 失败返回\n *\n*/ \nsendMsg(){\n    notification(this,{\n        title : Text\n    })\n},\n',code2:'\n// 导入\nimport {notification} from "@/utils/notification.js";\n// 使用\n<div class="item">\n    <div class="my-box">\n        <el-input class="ipt" v-model="Text"  placeholder="请输入需要发送的文字"></el-input>\n        <el-input class="ipt" v-model="Text1"  placeholder="请输入需要提示的文字"></el-input>\n        <el-button type="primary" class="btn" @click="sendMsg">发送通知</el-button>\n    </div>\n</div>\n// methods\n/*\n * @name 通知\n * @parame _this 全局this\n * @parame title 标题 string 必填\n * @parame msg 详情信息 string\n * @parame audioUrl 音频地址 string\n * @parame duration 延时时间 number\n * @method success 成功返回 code 100网页成功 200网页和系统都成功\n * @method fail 失败返回\n *\n*/ \nsendMsg(){\n    if(!this.Text){\n        this.errorTips();\n        return\n    }\n    notification(this,{\n        title : Text,\n        msg : Text\n    })\n},\n',code3:'\n// 导入\nimport {notification} from "@/utils/notification.js";\n// 使用\n<div class="item">\n    <div class="my-box">\n        <el-input class="ipt" v-model="Text"  placeholder="请输入需要发送的文字"></el-input>\n        <el-input class="ipt" v-model="Text2" type="Number" placeholder="请输入时长"></el-input>\n        <el-button type="primary" class="btn" @click="sendMsg">发送通知</el-button>\n    </div>\n</div>\n// data\nText\n// methods\n/*\n * @name 通知\n * @parame _this 全局this\n * @parame title 标题 string 必填\n * @parame msg 详情信息 string\n * @parame audioUrl 音频地址 string\n * @parame duration 延时时间 number\n * @method success 成功返回 code 100网页成功 200网页和系统都成功\n * @method fail 失败返回\n *\n*/ \nsendMsg(){\n    if(!this.Text){\n        this.errorTips();\n        return\n    }\n    notification(this,{\n        title : this.Text,\n        msg : Text,\n        duration : Number / String number\n    })\n},\n',code4:'\n// 导入\nimport {notification} from "@/utils/notification.js";\nimport audioUrl from "../../assets/audio/newMsg.mp3";\n// 使用\n<div class="item">\n    <div class="my-box">\n        <el-input class="ipt" v-model="Text"  placeholder="请输入需要发送的文字"></el-input>\n        <el-input class="ipt" v-model="Text1"  placeholder="请输入音频地址"></el-input>\n        <el-button type="primary" class="btn" @click="sendMsg">发送通知</el-button>\n    </div>\n</div>\n// data\nText\n// methods\n/*\n * @name 通知\n * @parame _this 全局this\n * @parame title 标题 string 必填\n * @parame msg 详情信息 string\n * @parame audioUrl 音频地址 string\n * @parame duration 延时时间 number\n * @method success 成功返回 code 100网页成功 200网页和系统都成功\n * @method fail 失败返回\n *\n*/ \nsendMsg(){\n    if(!this.Text){\n        this.errorTips();\n        return\n    }\n    notification(this,{\n        title : this.Text,\n        msg : Text,\n        duration : Number / String number,\n        audioUrl : string\n    })\n},\n'}),mounted(){},methods:{sendMsg(){this.Text?a(this,{title:this.Text}):this.errorTips()},sendMsg2(){this.Text2?a(this,{title:this.Text2,msg:this.Text3}):this.errorTips()},sendMsg3(){this.Text4?a(this,{title:this.Text4,msg:"延长时间"+this.Text5,duration:this.Text5?Number(this.Text5):5e3}):this.errorTips()},sendMsg4(){this.Text6?a(this,{title:this.Text6,msg:"音频地址"+this.Text7,duration:5e3,audioUrl:this.Text7}):this.errorTips()},errorTips(){this.$message({message:"必填",type:"error"})}}},m={};var p=r(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.newIndex?t._e():i("dzs-header",{attrs:{title:"Notification 消息通知"}}),i("div",{staticClass:"page"},[i("h2",[t._v("基础用法 不带提示")]),i("div",{staticClass:"tips-box"},[t._v("https才能发送系统通知")]),i("div",{staticClass:"item"},[i("div",{staticClass:"my-box"},[i("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入需要发送的文字"},model:{value:t.Text,callback:function(e){t.Text=e},expression:"Text"}}),i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.sendMsg}},[t._v("发送通知")])],1),i("dzs-code",{attrs:{title:"使用方法",value:t.code1}})],1),i("h2",[t._v("基础用法 带提示")]),i("div",{staticClass:"item"},[i("div",{staticClass:"my-box"},[i("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入需要发送的文字"},model:{value:t.Text2,callback:function(e){t.Text2=e},expression:"Text2"}}),i("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入需要发送的提示文字"},model:{value:t.Text3,callback:function(e){t.Text3=e},expression:"Text3"}}),i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.sendMsg2}},[t._v("发送提示通知")])],1),i("dzs-code",{attrs:{title:"使用方法",value:t.code2}})],1),i("h2",[t._v("基础用法 延长时间")]),i("div",{staticClass:"item"},[i("div",{staticClass:"my-box"},[i("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入需要发送的文字"},model:{value:t.Text4,callback:function(e){t.Text4=e},expression:"Text4"}}),i("el-input",{staticClass:"ipt",attrs:{type:"Number",placeholder:"请输入时长"},model:{value:t.Text5,callback:function(e){t.Text5=e},expression:"Text5"}}),i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.sendMsg3}},[t._v("发送通知")])],1),i("dzs-code",{attrs:{title:"使用方法",value:t.code3}})],1),i("h2",[t._v("基础用法 播放音乐")]),i("div",{staticClass:"item"},[i("div",{staticClass:"my-box"},[i("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入需要发送的文字"},model:{value:t.Text6,callback:function(e){t.Text6=e},expression:"Text6"}}),i("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入音频地址"},model:{value:t.Text7,callback:function(e){t.Text7=e},expression:"Text7"}}),i("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.sendMsg4}},[t._v("发送通知")])],1),i("dzs-code",{attrs:{title:"使用方法",value:t.code4}})],1),i("h2",[t._v("源代码下载/查看")]),t._m(0)]),t.newIndex?t._e():i("el-backtop",{attrs:{"visibility-height":20}})],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item"},[i("a",{attrs:{target:"_blank",href:"https://github.com/zsduan/zsduan-summary/blob/master/src/utils/notification.js"}},[t._v("下载/查看地址")])])}],!1,u,"52a25b89",null,null);function u(t){for(let e in m)this[e]=m[e]}var b=function(){return p.exports}();export{b as default};
