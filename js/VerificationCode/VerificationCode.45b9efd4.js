import{n as e}from"../../static/js/index-f36063d5.js";import"../_vue@2.6.11@vue/_vue@2.6.11@vue.317b84c1.js";import"../_async-validator@1.8.5@async-validator/_async-validator@1.8.5@async-validator.37c9130c.js";import"../_babel-runtime@6.26.0@babel-runtime/_babel-runtime@6.26.0@babel-runtime.1c250612.js";import"../_core-js@2.6.12@core-js/_core-js@2.6.12@core-js.13372523.js";import"../_vue-router@3.6.5@vue-router/_vue-router@3.6.5@vue-router.bd9f6ef4.js";import"../_vuex@3.6.2@vuex/_vuex@3.6.2@vuex.262a7d4a.js";import"../_element-ui@2.15.12@element-ui/_element-ui@2.15.12@element-ui.770fe0d0.js";import"../_deepmerge@1.5.2@deepmerge/_deepmerge@1.5.2@deepmerge.f5e035f3.js";import"../_resize-observer-polyfill@1.5.1@resize-observer-polyfill/_resize-observer-polyfill@1.5.1@resize-observer-polyfill.98392bf6.js";import"../_throttle-debounce@1.1.0@throttle-debounce/_throttle-debounce@1.1.0@throttle-debounce.0f7e23aa.js";import"../_lodash@4.17.21@lodash/_lodash@4.17.21@lodash.443c155a.js";import"../_babel-helper-vue-jsx-merge-props@2.0.3@babel-helper-vue-jsx-merge-props/_babel-helper-vue-jsx-merge-props@2.0.3@babel-helper-vue-jsx-merge-props.f41404db.js";import"../_normalize-wheel@1.0.1@normalize-wheel/_normalize-wheel@1.0.1@normalize-wheel.d6d32fc3.js";import"../_mavon-editor@2.10.4@mavon-editor/_mavon-editor@2.10.4@mavon-editor.f1b004f2.js";import"../_vue-prism-editor@1.3.0@vue-prism-editor/_vue-prism-editor@1.3.0@vue-prism-editor.c33416fc.js";import"../_prismjs@1.29.0@prismjs/_prismjs@1.29.0@prismjs.24b6c5f6.js";const o={};var t=e({name:"dzs-verification-code",model:{prop:"value",event:"update:value"},props:{codeArr:{type:Array,default:()=>[]},value:{type:String,default:()=>""}},data:()=>({code_show:""}),mounted(){setTimeout((()=>{this.generateCode()}),100)},methods:{generateCode(){this.codeArr.length&&this.codeArr.length<4&&console.warn("codeArr.length Less than 4");let e=[],o=this.$refs.dzs_verification_code.width,t=this.$refs.dzs_verification_code.height,i=this.$refs.dzs_verification_code,r=i.getContext("2d");i.width=o,i.height=t;let a="a,b,c,d,e,f,g,h,i,j,k,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,E,F,G,H,J,K,L,M,N,P,Q,R,S,T,W,X,Y,Z,1,2,3,4,5,6,7,8,9,0".split(",");this.codeArr.length&&this.codeArr.length>4&&(a=this.codeArr);let s=a.length;for(let d=0;d<4;d++){let o=Math.floor(Math.random()*s),t=Math.random()-.5,i=a[o];e[d]=i;let n=10+70*d,c=100+20*Math.random();r.font="bold 63px 微软雅黑",r.translate(n,c),r.rotate(t),r.fillStyle=this.randomColor(),r.fillText(i,0,0),r.rotate(-t),r.translate(-n,-c)}this.code_show=e.join(""),this.code_show=this.code_show.toLocaleUpperCase(),this.$emit("update:value",this.code_show);for(let d=0;d<=5;d++)r.strokeStyle=this.randomColor(),r.beginPath(),r.moveTo(Math.random()*o,Math.random()*t),r.lineTo(Math.random()*o,Math.random()*t),r.stroke();for(let d=0;d<=30;d++){r.strokeStyle=this.randomColor(),r.beginPath();let e=Math.random()*o,i=Math.random()*t;r.moveTo(e,i),r.lineTo(e+1,i+1),r.stroke()}},randomColor:()=>"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"dzs-verification-code-box",on:{click:e.generateCode}},[t("canvas",{ref:"dzs_verification_code",staticClass:"dzs-verification-code",attrs:{id:"dzs_verification_code"}},[e._v("您的浏览器不支持canvas")])])}),[],!1,i,"1f7dc4e4",null,null);function i(e){for(let t in o)this[t]=o[t]}const r={};var a=e({components:{dzsVerificationCode:function(){return t.exports}()},data:()=>({myCode:"",myCode2:"",verification_code:"",verification_code2:"",code1:'\n/*\n * @name 生成随机字符串验证码 \n * @v-model 返回大写后的字符串\n*/\n// html\n<dzs-verification-code v-model="verification_code"></dzs-verification-code>\n// js\nimport dzsVerificationCode from "@/components/dzs-verification-code/index.vue";\ncomponents:{dzsVerificationCode},\n',code2:"\n/*\n * @name 生成随机字符串验证码 \n * @v-model 返回大写后的字符串\n*/\n// html\n<dzs-verification-code v-model=\"verification_code2\" :codeArr=\"['技','术','部','好','样']\"></dzs-verification-code>\n// js\nimport dzsVerificationCode from \"@/components/dzs-verification-code/index.vue\";\ncomponents:{dzsVerificationCode},\n"}),mounted(){},methods:{}},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("dzs-header",{attrs:{title:"canvas生成验证码"}}),t("div",{staticClass:"page"},[t("div",{staticClass:"item"},[t("h2",[e._v("基本用法")]),t("div",{staticClass:"ipt-box"},[t("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入验证码"},model:{value:e.myCode,callback:function(o){e.myCode=o},expression:"myCode"}}),t("div",{staticClass:"code-box"},[t("dzs-verification-code",{model:{value:e.verification_code,callback:function(o){e.verification_code=o},expression:"verification_code"}})],1)],1),e.verification_code==e.myCode.toLocaleUpperCase()?t("div",[e._v("验证成功")]):e._e(),e.verification_code!=e.myCode.toLocaleUpperCase()?t("div",[e._v("验证失败/未输入")]):e._e(),t("dzs-code",{attrs:{title:"代码片段",value:e.code1}})],1),t("div",{staticClass:"item"},[t("h2",[e._v("自定义随机文字")]),t("div",{staticClass:"ipt-box"},[t("el-input",{staticClass:"ipt",attrs:{placeholder:"请输入验证码"},model:{value:e.myCode2,callback:function(o){e.myCode2=o},expression:"myCode2"}}),t("div",{staticClass:"code-box"},[t("dzs-verification-code",{attrs:{codeArr:["技","术","部","好","样"]},model:{value:e.verification_code2,callback:function(o){e.verification_code2=o},expression:"verification_code2"}})],1)],1),e.verification_code2==e.myCode2.toLocaleUpperCase()?t("div",[e._v("验证成功")]):e._e(),e.verification_code2!=e.myCode.toLocaleUpperCase()?t("div",[e._v("验证失败/未输入")]):e._e(),t("dzs-code",{attrs:{title:"代码片段",value:e.code2}})],1),t("h2",[e._v("组件源代码下载")]),e._m(0)]),t("el-backtop",{attrs:{"visibility-height":20}})],1)}),[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"item"},[t("a",{attrs:{target:"_blank",href:"https://github.com/zsduan/zsduan-summary/blob/master/src/components/dzs-verification-code/index.vue"}},[e._v("表单组件下载地址")])])}],!1,s,"1d23acf8",null,null);function s(e){for(let o in r)this[o]=r[o]}var d=function(){return a.exports}();export{d as default};
