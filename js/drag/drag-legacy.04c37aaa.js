!function(){var e=document.createElement("style");e.innerHTML=".my-list[data-v-1cd3fb96]{display:flex;justify-content:space-between;flex-wrap:wrap}.my-list .list-item[data-v-1cd3fb96]{margin-top:15px;padding:5px;background:var(--ThemeColor);border-radius:5px;height:40px;cursor:pointer;color:#fff;line-height:30px;width:49%}.my-list .moving[data-v-1cd3fb96]{background:transparent;color:transparent;border:1px dashed #ccc}\n",document.head.appendChild(e),System.register(["../../static/js/index-legacy-4f5f4a53.js","../_vue@2.6.11@vue-legacy/_vue@2.6.11@vue.841ea4d1.js","../_async-validator@1.8.5@async-validator-legacy/_async-validator@1.8.5@async-validator.7dd80777.js","../_babel-runtime@6.26.0@babel-runtime-legacy/_babel-runtime@6.26.0@babel-runtime.ad830da6.js","../_core-js@2.6.12@core-js-legacy/_core-js@2.6.12@core-js.fb62dcae.js","../_vue-router@3.6.5@vue-router-legacy/_vue-router@3.6.5@vue-router.83f42fa2.js","../_vuex@3.6.2@vuex-legacy/_vuex@3.6.2@vuex.d925beb9.js","../_element-ui@2.15.12@element-ui-legacy/_element-ui@2.15.12@element-ui.d28eec3b.js","../_deepmerge@1.5.2@deepmerge-legacy/_deepmerge@1.5.2@deepmerge.4bb7376b.js","../_resize-observer-polyfill@1.5.1@resize-observer-polyfill-legacy/_resize-observer-polyfill@1.5.1@resize-observer-polyfill.70aaf03b.js","../_throttle-debounce@1.1.0@throttle-debounce-legacy/_throttle-debounce@1.1.0@throttle-debounce.14bdd61a.js","../_lodash@4.17.21@lodash-legacy/_lodash@4.17.21@lodash.663713e6.js","../_babel-helper-vue-jsx-merge-props@2.0.3@babel-helper-vue-jsx-merge-props-legacy/_babel-helper-vue-jsx-merge-props@2.0.3@babel-helper-vue-jsx-merge-props.249d752d.js","../_normalize-wheel@1.0.1@normalize-wheel-legacy/_normalize-wheel@1.0.1@normalize-wheel.25f995f7.js","../_mavon-editor@2.10.4@mavon-editor-legacy/_mavon-editor@2.10.4@mavon-editor.c54f996c.js","../_vue-prism-editor@1.3.0@vue-prism-editor-legacy/_vue-prism-editor@1.3.0@vue-prism-editor.fcf380ad.js","../_prismjs@1.29.0@prismjs-legacy/_prismjs@1.29.0@prismjs.9136df25.js"],(function(e){"use strict";var t;return{setters:[function(e){t=e.n},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){}],execute:function(){var n={props:{newIndex:{type:Boolean,default:function(){return!1}}},data:function(){return{code1:'\n// html\n<ul class="my-list" ref="myList">\n    <li\n        @dragover="Mydragover($event)"\n        @dragenter="Mydragenter($event , index)"\n        @dragstart="MyDragstart($event , index)"\n        @dragend="Mydragend"\n        draggable="true"\n        :class="item.active ? \'moving\' :\'\'"\n        class="list-item"\n        v-for="(item , index) in list"\n        :key="index"\n        >{{index + 1}} {{item.name}}</li>\n    </ul>\n// data\nlist: [\n    {\n        name: "张珊",\n        active: false,\n    },\n    {\n        name: "张三",\n        active: false,\n    },\n    {\n        name: "李四",\n        active: false,\n    },\n    {\n        name: "王五",\n        active: false,\n    },\n    {\n        name: "李二狗",\n        active: false,\n    },\n    {\n        name: "王麻子",\n        active: false,\n    },\n],\nsourceNode: null, //当前正在拖动的元素\nnewList: [],\n// js\nMyDragstart(e, index) {\n    setTimeout(() => {\n        this.list[index].active = true;\n    }, 10);\n    this.sourceNode = e.target;\n    e.dataTransfer.effectAllowed = "move";\n    if (!this.newList.length) {\n        this.newList = JSON.parse(JSON.stringify(this.list));\n    }\n},\nMydragend() {\n    this.list.forEach((v) => {\n        v.active = false;\n    });\n},\nMydragenter(e, index) {\n    e.preventDefault();\n    if (e.target == this.sourceNode) {\n        return;\n    }\n    const listNode = this.$refs.myList;\n    const children = Array.from(this.$refs.myList.children);\n    const sourceIndex = children.indexOf(this.sourceNode);\n    const targetIndex = children.indexOf(e.target);\n    const move = JSON.parse(JSON.stringify(this.list[sourceIndex]));\n    const target = JSON.parse(JSON.stringify(this.list[targetIndex]));\n    this.newList[targetIndex] = move;\n    this.newList[sourceIndex] = target;\n    if (sourceIndex < targetIndex) {\n        listNode.insertBefore(\n            this.sourceNode,\n            e.target.nextElementSibling\n        );\n    } else {\n        listNode.insertBefore(this.sourceNode, e.target);\n    }\n},\nMydragover(e) {\n    e.preventDefault();\n},\n',list:[{name:"张珊",active:!1},{name:"张三",active:!1},{name:"李四",active:!1},{name:"王五",active:!1},{name:"李二狗",active:!1},{name:"王麻子",active:!1}],sourceNode:null,newList:[]}},mounted:function(){},methods:{MyDragstart:function(e,t){var n=this;setTimeout((function(){n.list[t].active=!0}),10),this.sourceNode=e.target,e.dataTransfer.effectAllowed="move",this.newList.length||(this.newList=JSON.parse(JSON.stringify(this.list)))},Mydragend:function(){this.list.forEach((function(e){e.active=!1}))},Mydragenter:function(e,t){if(e.preventDefault(),e.target!=this.sourceNode){var n=this.$refs.myList,r=Array.from(this.$refs.myList.children),i=r.indexOf(this.sourceNode),s=r.indexOf(e.target),a=JSON.parse(JSON.stringify(this.list[i])),o=JSON.parse(JSON.stringify(this.list[s]));this.newList[s]=a,this.newList[i]=o,i<s?n.insertBefore(this.sourceNode,e.target.nextElementSibling):n.insertBefore(this.sourceNode,e.target)}},Mydragover:function(e){e.preventDefault()}}},r={},i=t(n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.newIndex?e._e():n("dzs-header",{attrs:{title:"拖动效果"}}),n("div",{staticClass:"page"},[n("h2",[e._v("效果展示")]),n("div",{staticClass:"item"},[n("div",{staticClass:"tips-box"},[e._v("仅支持电脑端 手机端 请使用 vue-draggable")]),n("ul",{ref:"myList",staticClass:"my-list"},e._l(e.list,(function(t,r){return n("li",{key:r,staticClass:"list-item",class:t.active?"moving":"",attrs:{draggable:"true"},on:{dragover:function(t){return e.Mydragover(t)},dragenter:function(t){return e.Mydragenter(t,r)},dragstart:function(t){return e.MyDragstart(t,r)},dragend:e.Mydragend}},[e._v(e._s(r+1)+" "+e._s(t.name))])})),0),n("dzs-code",{attrs:{title:"代码",value:e.code1}})],1),n("h2",[e._v("源代码下载/查看")]),e._m(0)]),e.newIndex?e._e():n("el-backtop",{attrs:{"visibility-height":20}})],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"item"},[n("a",{attrs:{target:"_blank",href:"https://github.com/zsduan/zsduan-summary/blob/master/src/views/drag.vue"}},[e._v("下载/查看地址")])])}],!1,s,"1cd3fb96",null,null);function s(e){for(var t in r)this[t]=r[t]}e("default",function(){return i.exports}())}}}))}();
