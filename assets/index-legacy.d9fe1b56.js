!function(){function e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var t=document.createElement("style");t.innerHTML=".sava-box[data-v-31bf14ca]{text-align:right;padding-bottom:10px;display:flex;justify-content:right;flex-wrap:wrap}.sava-box .tips[data-v-31bf14ca]{color:red}.sava-box .item[data-v-31bf14ca]{padding:5px 10px 5px 5px}.sava-box .phone[data-v-31bf14ca]{display:flex;align-items:center}.sava-box .phone span[data-v-31bf14ca]{display:inline-block;padding:0 8px}.sava-box .phone .ipt[data-v-31bf14ca]{width:100px}\n",document.head.appendChild(t),System.register(["./_tinymce@5.10.7@tinymce-legacy.42e09624.js","./_@tinymce_tinymce-vue@3.2.8@@tinymce-legacy.07401023.js","../static/js/index-legacy-842fec71.js"],(function(t){"use strict";var i,n,a;return{setters:[function(e){i=e.t},function(e){n=e.E},function(e){a=e.n}],execute:function(){var o={name:"dzs-editors",model:{prop:"value",event:"update:value"},props:{height:{type:Number|String,default:function(){return 500}},value:{type:String,default:function(){return""}},width:{type:String,default:function(){return"100%"}},show_save:{type:Boolean,default:function(){return!0}},placeholder:{type:String,default:function(){return"请输入内容"}},production_url:{type:String,default:function(){return"/zsduan-summary"}},plugins:{type:String,default:function(){return"copy cut paste print link code table lists wordcount image media save searchreplace insertdatetime hr preview importword autosave fullscreen print help"}},toolbar:{type:Array,default:function(){return["undo redo save| formatselect | fontsizeselect | fontselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | lists image searchreplace | bullist numlist outdent indent |  media table insertdatetime | removeformat hr | importword autosave fullscreen print help"]}}},components:{editor:n},data:function(){return{editConfig:{},editValue:"",is_save_now:!0,showEdit:!1}},created:function(){var t,n=this,a=this;this.editConfig=(e(t={language_url:this.production_url+"/tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:this.production_url+"/tinymce/skins/ui/oxide",browser_spellcheck:!0,branding:!1,height:this.height||500},"branding",!1),e(t,"menubar",!0),e(t,"file_picker_types","image"),e(t,"images_upload_credentials",!0),e(t,"placeholder",this.placeholder),e(t,"autosave_interval","20s"),e(t,"fontsize_formats","14px 16px 18px 20px 24px 26px 28px 30px 32px 36px"),e(t,"font_formats","微软雅黑=Microsoft YaHei,Helvetica Neue;PingFang SC;sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun;serifsans-serif;Terminal=terminal;monaco;Times New Roman=times new roman;times"),e(t,"plugins",this.plugins),e(t,"toolbar",this.toolbar),e(t,"importword_handler",(function(e,t,i){var n=t[0].name;"docx"==n.substr(n.lastIndexOf(".")+1)?(e.notificationManager.open({text:"正在转换中...",type:"info",closeButton:!1}),i(t)):e.notificationManager.open({text:"目前仅支持docx文件格式，若为doc，请将扩展名改为docx",type:"warning"})})),e(t,"urlconverter_callback",(function(e,t,n,a){return"img"===t&&e.startsWith("blob:")&&i.activeEditor&&i.activeEditor.uploadImages(),e})),e(t,"images_upload_handler",(function(e,t,i){var n=new FormData;n.append("file",e.blob()),a.$api.editorProfileImg(n).then((function(e){t(e.path+e.url)})).catch((function(e){editor(e)}))})),e(t,"save_onsavecallback",(function(){a.save()})),e(t,"init_instance_callback",(function(e){e.on("change",(function(){a.is_save_now&&a.save()}))})),t),this.editValue=this.value,setTimeout((function(){n.showEdit=!0}),50)},watch:{value:{handler:function(e){var t=this;this.editValue=e||"",this.$nextTick((function(){var e=document.querySelector(".tox-edit-area__iframe");e&&t.keepLastIndex(e.contentWindow.document.getElementById("tinymce"),e.contentWindow)}))},immediate:!0,deep:!0}},methods:{save:function(){this.$emit("update:value",this.editValue),this.$emit("save",this.editValue)},keepLastIndex:function(e,t){if(t.getSelection)e.focus(),(i=t.getSelection()).selectAllChildren(e),i.collapseToEnd();else if(document.selection){var i;(i=document.selection.createRange()).moveToElementText(e),i.collapse(!1),i.select()}}}},r={},s=a(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.showEdit?i("div",{style:e.width},[e.show_save?i("div",{staticClass:"sava-box"},[e._m(0),i("div",{staticClass:"item"},[i("span",[e._v("开启实时保存")]),e._v("： "),i("el-switch",{model:{value:e.is_save_now,callback:function(t){e.is_save_now=t},expression:"is_save_now"}})],1)]):e._e(),i("editor",{attrs:{init:e.editConfig},model:{value:e.editValue,callback:function(t){e.editValue=t},expression:"editValue"}})],1):e._e()])}),[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"item tips"},[i("span",[e._v("实时保存仅限输入 其他操作组件不保证实时保存 请自行点击保存")])])}],!1,l,"31bf14ca",null,null);function l(e){for(var t in r)this[t]=r[t]}t("d",function(){return s.exports}())}}}))}();
