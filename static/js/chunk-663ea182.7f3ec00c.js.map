{"version":3,"sources":["webpack:///./src/views/component-section/dzs-upload-img/desc.js","webpack:///./src/views/component-section/dzs-upload-img/index.vue","webpack:///./src/components/dzs-upload-img/index.js","webpack:///src/views/component-section/dzs-upload-img/index.vue","webpack:///./src/views/component-section/dzs-upload-img/index.vue?4128","webpack:///./src/views/component-section/dzs-upload-img/index.vue?4d3b","webpack:///./src/views/component-section/dzs-upload-img/config.js","webpack:///./src/components/dzs-upload-img/index.vue?65f1","webpack:///./src/components/dzs-upload-img/index.vue","webpack:///src/components/dzs-upload-img/index.vue","webpack:///./src/components/dzs-upload-img/index.vue?9e35","webpack:///./src/components/dzs-upload-img/index.vue?0b3a"],"names":["tableData","key","type","parameterType","desc","remark","render","_vm","this","_c","_self","attrs","code1","on","change","links","staticRenderFns","dzsUploadImg","install","Vue","options","component","name","components","data","title","code","lang","href","methods","fileList","staticClass","length","style","imgStyle","_l","item","index","url","$event","handlePictureCardPreview","handleRemove","_e","upFile","limit","beforeUpload","handleSuccess","handleExceed","autoUpload","changeFile","dialogVisible","dialogImageUrl","model","prop","event","props","String","default","value","Array","Number","maxSize","imgType","Boolean","watch","handler","val","uid","Date","getTime","status","fromItem","deep","immediate","file","imgTypes","split","indexOf","isLt2M","size","$message","error","res","fileInfo","path","uploadUrl","push","$emit","files","raw","warning","splice"],"mappings":"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","file":"static/js/chunk-663ea182.7f3ec00c.js","sourcesContent":["\r\nexport const tableData = [\r\n    {\r\n        key: \"upFile\",\r\n        type: \"props\",\r\n        parameterType: \"String\",\r\n        desc: \"上传地址\",\r\n        remark: \"\",\r\n    },\r\n    {\r\n        key: \"limit\",\r\n        type: \"props\",\r\n        parameterType: \"Number\",\r\n        desc: \"上传数量\",\r\n        remark: \"默认1\",\r\n    },\r\n    {\r\n        key: \"value/v-model\",\r\n        type: \"props\",\r\n        parameterType: \"Array\",\r\n        desc: \"值\",\r\n        remark: \"\",\r\n    },\r\n    {\r\n        key: \"imgStyle\",\r\n        type: \"props\",\r\n        parameterType: \"String\",\r\n        desc: \"图片样式\",\r\n        remark: \"默认'width: 80px;height: 80px;'\",\r\n    },\r\n    {\r\n        key: \"maxSize\",\r\n        type: \"props\",\r\n        parameterType: \"Number\",\r\n        desc: \"最大上传大小\",\r\n        remark: \"默认3M\",\r\n    },\r\n    {\r\n        key: \"imgType\",\r\n        type: \"props\",\r\n        parameterType: \"String\",\r\n        desc: \"图片类型\",\r\n        remark: \"以逗号分隔\",\r\n    },\r\n    {\r\n        key: \"@change\",\r\n        type: \"methods\",\r\n        parameterType: \"Function\",\r\n        desc: \"改变\",\r\n        remark: \"返回所以图片list array\",\r\n    },\r\n    {\r\n        key: \"@upload-success\",\r\n        type: \"methods\",\r\n        parameterType: \"Function\",\r\n        desc: \"上传成功\",\r\n        remark: \"返回当前图片信息 object\",\r\n    },\r\n    {\r\n        key: \"@upload-remove\",\r\n        type: \"methods\",\r\n        parameterType: \"Function\",\r\n        desc: \"删除\",\r\n        remark: \"返回所以图片list array\",\r\n    }\r\n]","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('public-item',{attrs:{\"title\":\"基础用法\",\"code\":_vm.code1}},[_c('dzs-upload-img',{on:{\"change\":_vm.change}})],1),_c('public-item',{attrs:{\"title\":\"参数说明\",\"list\":_vm.tableData}}),_c('public-item',{attrs:{\"title\":\"组件源代码查看\",\"links\":_vm.links}}),_c('dzs-backtop',{attrs:{\"target\":\".el-main\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import dzsUploadImg from \"./index.vue\";\r\n\r\ndzsUploadImg.install = (Vue , options) =>{\r\n    Vue.component(dzsUploadImg.name, dzsUploadImg)\r\n}\r\n\r\nexport default dzsUploadImg;","<template>\r\n    <section>\r\n        <public-item title=\"基础用法\" :code=\"code1\">\r\n            <dzs-upload-img @change=\"change\"></dzs-upload-img>\r\n        </public-item>\r\n        <public-item title=\"参数说明\" :list=\"tableData\"></public-item>\r\n        <public-item title=\"组件源代码查看\" :links=\"links\"></public-item>\r\n        <dzs-backtop  target=\".el-main\"></dzs-backtop>\r\n    </section>\r\n</template>\r\n<script>\r\nimport dzsUploadImg from \"@/components/dzs-upload-img\";\r\nimport {code1 } from \"./config.js\";\r\nimport {tableData} from \"./desc.js\";\r\nexport default {\r\n    components:{\r\n        dzsUploadImg\r\n    },\r\n    data() {\r\n        return {\r\n            code1: {\r\n                title: \"代码示例\",\r\n                code: code1,\r\n                lang: \"vue\"\r\n            },\r\n            links: {\r\n                href: \"https://github.com/zsduan/zsduan-summary/blob/master/src/components/dzs-upload-img/index.vue\",\r\n                title: \"组件源码\"\r\n            },\r\n            tableData,\r\n        }\r\n    },\r\n    methods: {\r\n        change(fileList){\r\n            // do something\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=25d4fd4b&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25d4fd4b\",\n  null\n  \n)\n\nexport default component.exports","\r\n/**基础用法*/ \r\nexport const code1 = `\r\n<template>\r\n    <section>\r\n        <public-item title=\"基础用法\">\r\n            <dzs-upload-img @change=\"change\"></dzs-upload-img>\r\n        </public-item>\r\n    </section>\r\n</template>\r\n<script>\r\nimport dzsUploadImg from \"@/components/dzs-upload-img\"\r\nexport default {\r\n    components:{\r\n        dzsUploadImg\r\n    },\r\n    methods: {\r\n        change(fileList){\r\n            // do something\r\n        }\r\n    }\r\n}\r\n</script>\r\n`","export * from \"-!../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/.store/sass-loader@10.2.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7de77714&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"upload-img-box\"},[(_vm.fileList.length)?_c('div',{staticClass:\"show-img-box\",style:(_vm.imgStyle)},_vm._l((_vm.fileList),function(item,index){return _c('div',{key:index},[_c('img',{staticClass:\"el-upload-list__item-thumbnail\",style:(_vm.imgStyle),attrs:{\"src\":item.url,\"alt\":\"\"}}),_c('div',{staticClass:\"el-upload-list__item-actions\",style:(_vm.imgStyle)},[_c('div',{staticClass:\"el-upload-actions\"},[_c('i',{staticClass:\"el-icon-zoom-in\",on:{\"click\":function($event){return _vm.handlePictureCardPreview(item)}}}),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.handleRemove(index)}}})])])])}),0):_vm._e(),_c('div',{style:(_vm.imgStyle)},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.upFile,\"show-file-list\":false,\"list-type\":\"picture-card\",\"file-list\":_vm.fileList,\"limit\":_vm.limit,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"auto-upload\":_vm.autoUpload,\"on-change\":_vm.changeFile}},[_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"upload-img-box\">\r\n        <div class=\"show-img-box\" v-if=\"fileList.length\" :style=\"imgStyle\">\r\n            <div v-for=\"(item,index) in fileList\" :key=\"index\">\r\n                <img class=\"el-upload-list__item-thumbnail\" :src=\"item.url\" alt :style=\"imgStyle\" />\r\n                <div class=\"el-upload-list__item-actions\" :style=\"imgStyle\">\r\n                    <div class=\"el-upload-actions\">\r\n                        <i class=\"el-icon-zoom-in\" @click=\"handlePictureCardPreview(item)\"></i>\r\n                        <i class=\"el-icon-delete\"  @click=\"handleRemove(index)\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div :style=\"imgStyle\">\r\n            <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"upFile\"\r\n                :show-file-list=\"false\"\r\n                list-type=\"picture-card\"\r\n                :file-list=\"fileList\"\r\n                :limit=\"limit\"\r\n                :before-upload=\"beforeUpload\"\r\n                :on-success=\"handleSuccess\"\r\n                :on-exceed=\"handleExceed\"\r\n                :auto-upload=\"autoUpload\"\r\n                :on-change=\"changeFile\"\r\n            >\r\n                <i class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n        </div>\r\n        <!-- 预览 -->\r\n        <el-dialog :visible.sync=\"dialogVisible\" :append-to-body=\"true\">\r\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt />\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n/**\r\n * 上传图片组件\r\n * @author zs.duan\r\n * @date 2024-07-30\r\n * @props : upFile 上传地址 string\r\n * @props : limit 上传数量 number 默认1\r\n * @props : value/v-model 值 array\r\n * @props : imgStyle 图片样式 string 默认'width: 80px;height: 80px;'\r\n * @props : maxSize 最大上传大小 默认3M number\r\n * @props : imgType 图片类型 string 以逗号分隔\r\n * \r\n * @methods : change 改变 function 返回所以图片list array\r\n * @methods : upload-success 上传成功 function 返回当前图片信息 object\r\n * @methods : upload-remove 删除 function 返回所以图片list array\r\n * \r\n * \r\n*/ \r\nexport default {\r\n    name: \"dzsUploadImg\",\r\n    model: {\r\n        prop: \"value\",\r\n        event: \"update:value\",\r\n    },\r\n    props: {\r\n        upFile: {\r\n            type: String,\r\n            default: () => {\r\n                return \"#\";\r\n            },\r\n        },\r\n        value: {\r\n            type: Array | String,\r\n            default: () => {\r\n                return [];\r\n            },\r\n        },\r\n        imgStyle: {\r\n            type: String,\r\n            default: () => {\r\n                return \"width:80px;height:80px;\";\r\n            },\r\n        },\r\n        // 最大上传张数\r\n        limit: {\r\n            type: Number,\r\n            default: () => {\r\n                return 1;\r\n            },\r\n        },\r\n        // 最大上传大小\r\n        maxSize: {\r\n            type: Number,\r\n            default: () => {\r\n                return 3;\r\n            },\r\n        },\r\n        // 文件类型\r\n        imgType: {\r\n            type: String,\r\n            default: () => {\r\n                return \"image/jpeg,image/png,image/gif\";\r\n            },\r\n        },\r\n        autoUpload : {\r\n            type : Boolean,\r\n            default : ()=>{\r\n                return true\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            fileList: [],\r\n            dialogImageUrl: \"\",\r\n            dialogVisible: false,\r\n        };\r\n    },\r\n    watch: {\r\n        value:{\r\n            handler(val){\r\n                if(typeof val == \"string\"){\r\n                    this.fileList = val ? {\r\n                        uid : new Date().getTime(),\r\n                        url : val,\r\n                        status : \"success\",\r\n                        fromItem : \"upload-img\",\r\n                    } : [];\r\n                }else{\r\n                    this.fileList = val;\r\n                }\r\n            },\r\n            deep:true,\r\n            immediate:true,\r\n        }\r\n    },\r\n    methods: {\r\n        beforeUpload(file) {\r\n            let imgTypes = this.imgType.split(\",\");\r\n            let index = imgTypes.indexOf(file.type);\r\n            const isLt2M = file.size / 1024 / 1024 < this.maxSize;\r\n            if (index == -1) {\r\n                this.$message.error(\"请上传正确的图片格式\");\r\n            }\r\n            if (!isLt2M) {\r\n                this.$message.error(`上传图片大小不能超过 ${this.maxSize}MB!`);\r\n            }\r\n            return index != -1 && isLt2M;\r\n        },\r\n        // 上传成功\r\n        handleSuccess(res, file) {\r\n            let fileInfo = {\r\n                name: file.name,\r\n                path: res.path ? res.path : \"\",\r\n                uploadUrl: res.url ? res.url : \"\",\r\n                uid: file.uid,\r\n                url: file.url,\r\n                status: \"success\",\r\n                fromItem: \"upload-img\",\r\n                data : res,\r\n                file : file,\r\n            };\r\n            this.fileList.push(fileInfo);\r\n            this.$emit(\"update:value\", this.fileList);\r\n            this.$emit(\"upload-success\", fileInfo);\r\n            this.$emit(\"change\", this.fileList);\r\n        },\r\n        // 文件改变\r\n        changeFile(files){\r\n            if(!this.autoUpload){\r\n                let fileInfo = {\r\n                    name: files.name,\r\n                    path: files.url,\r\n                    uploadUrl: files.url,\r\n                    uid: files.uid,\r\n                    url: files.url,\r\n                    status: \"success\",\r\n                    fromItem: \"upload-img\",\r\n                    data : files.raw,\r\n                    file : files.raw,\r\n                };\r\n                this.fileList.push(fileInfo);\r\n                this.$emit(\"update:value\", this.fileList);\r\n                this.$emit(\"upload-success\", fileInfo);\r\n                this.$emit(\"change\", this.fileList);\r\n            }\r\n        },\r\n        // 超出限制\r\n        handleExceed(files, fileList) {\r\n            this.$message.warning(`当前上传图片数量已达上限${this.limit}张`);\r\n        },\r\n        // 预览\r\n        handlePictureCardPreview(file) {\r\n            this.dialogImageUrl = file.url;\r\n            this.dialogVisible = true;\r\n        },\r\n        // 删除\r\n        handleRemove(index) {\r\n            this.fileList.splice(index, 1);\r\n            this.$emit(\"change\",this.fileList);\r\n            this.$emit(\"update:value\", this.fileList);\r\n            this.$emit(\"upload-remove\", this.fileList);\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n.upload-img-box {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    position: relative;\r\n    .show-img-box{\r\n        margin-right: 10px;\r\n        border: 1px dashed #c0ccda;\r\n        border-radius: 6px;\r\n        overflow: hidden;\r\n        position: relative;\r\n        .el-upload-list__item-actions{\r\n            position: absolute;\r\n            display: block;\r\n            width: 100%;\r\n            height: 100%;\r\n            top: 0;\r\n            left: 0;\r\n            text-align: center;\r\n            color: #fff;\r\n            opacity: 0;\r\n            background-color: rgba(0,0,0,.5);\r\n            transition: opacity .3s;\r\n            font-size: 24px;\r\n            \r\n            .el-upload-actions{\r\n                display: flex;\r\n                justify-content: center;\r\n                align-content: center;\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n                i{\r\n                    cursor: pointer;\r\n                    display: inline-block;\r\n                    margin-right: 5px;\r\n                    &:last-child{\r\n                        margin-right: 0;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            &:hover{\r\n                opacity: 1;\r\n            }\r\n        }\r\n    }\r\n    .avatar-uploader {\r\n        height: 100%;\r\n        :deep(.el-upload--picture-card) {\r\n            width: 100%;\r\n            height: 100%;\r\n            position: relative;\r\n            i {\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n            }\r\n        }\r\n        /deep/.el-upload--picture-card{\r\n            width: 100%;\r\n            height: 100%;\r\n            position: relative;\r\n            i {\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7de77714&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7de77714&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7de77714\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}