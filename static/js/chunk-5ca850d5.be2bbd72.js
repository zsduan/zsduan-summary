(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ca850d5","chunk-2d213a50"],{4495:function(e,t,n){"use strict";n.r(t);var l=function(){var e=this,t=e._self._c;return t("div",[e.newIndex?e._e():t("dzs-header",{attrs:{title:"横向表单组件"}}),t("div",{staticClass:"page"},[t("h2",[e._v("基础用法")]),t("div",{staticClass:"item"},[t("dzs-form-header",{attrs:{options:e.formOptions},scopedSlots:e._u([{key:"mySlot",fn:function(){return[t("el-form-item",{attrs:{label:"自定义组件",prop:"mySlot"}},[t("el-button",[e._v("button")])],1)]},proxy:!0}])}),t("dzs-code",{attrs:{title:"源代码",value:e.code1}}),t("dzs-code",{attrs:{title:"全部配置",value:e.code2}})],1),t("h2",[e._v("组件源代码下载")]),e._m(0)]),e.newIndex?e._e():t("el-backtop",{attrs:{"visibility-height":20}})],1)},o=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"item"},[t("a",{attrs:{target:"_blank",href:"https://github.com/zsduan/zsduan-summary/blob/master/src/components/dzs-form-header/index.vue"}},[e._v("横向表单组件下载地址")])])}],i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-box"},[t("el-form",e._b({ref:"dzsForm",staticClass:"ruleForm",attrs:{model:e.fromModel,rules:e.fromRules,"label-position":e.labelPosition},nativeOn:{submit:function(t){return t.preventDefault(),e.submit("dzsForm")}}},"el-form",{...e.formProps},!1),[t("el-row",{attrs:{gutter:10}},[e._l(e.formItem,(function(n,l){return t("div",{key:l},[n.isHidden?e._e():t("el-col",{staticClass:"my-col",attrs:{span:n.span?n.span:6}},[n.isSlot?t("div",[e._t(n.key)],2):e._e(),n.isSlot?e._e():t("div",["input"==n.type?t("el-form-item",{attrs:{label:n.label,prop:n.key}},[t("el-input",e._b({on:{input:function(t){return e.changeVaule(t,n.key)}},model:{value:e.fromModel[n.key],callback:function(t){e.$set(e.fromModel,n.key,t)},expression:"fromModel[item.key]"}},"el-input",{...n.props},!1))],1):e._e(),"select"==n.type?t("el-form-item",{attrs:{label:n.label,prop:n.key}},[t("el-select",e._b({on:{input:function(t){return e.changeVaule(t,n.key)}},model:{value:e.fromModel[n.key],callback:function(t){e.$set(e.fromModel,n.key,t)},expression:"fromModel[item.key]"}},"el-select",{...n.props},!1),e._l(n.children,(function(e){return t("el-option",{key:e.value,staticStyle:{padding:"0 6px"},attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"date"==n.type?t("el-form-item",{attrs:{label:n.label,prop:n.key}},[t("el-date-picker",e._b({on:{input:function(t){return e.changeVaule(t,n.key)}},model:{value:e.fromModel[n.key],callback:function(t){e.$set(e.fromModel,n.key,t)},expression:"fromModel[item.key]"}},"el-date-picker",{...n.props},!1))],1):e._e(),"switch"==n.type?t("el-form-item",{attrs:{label:n.label,prop:n.key}},[t("el-switch",e._b({on:{input:function(t){return e.changeVaule(t,n.key)}},model:{value:e.fromModel[n.key],callback:function(t){e.$set(e.fromModel,n.key,t)},expression:"fromModel[item.key]"}},"el-switch",{...n.props},!1))],1):e._e(),"checkbox"==n.type?t("el-form-item",{attrs:{label:n.label,prop:n.key}},[t("el-checkbox-group",e._b({on:{change:function(t){return e.changeVaule(t,n.key)}},model:{value:e.fromModel[n.key],callback:function(t){e.$set(e.fromModel,n.key,t)},expression:"fromModel[item.key]"}},"el-checkbox-group",{...n.props},!1),e._l(n.children,(function(n,l){return t("el-checkbox",e._b({key:l,staticClass:"items",attrs:{label:n.value}},"el-checkbox",{...n.props},!1),[e._v(e._s(n.label))])})),1)],1):e._e(),"radio"==n.type?t("el-form-item",{attrs:{label:n.label,prop:n.key}},[t("el-radio-group",e._b({on:{change:function(t){return e.changeVaule(t,n.key)}},model:{value:e.fromModel[n.key],callback:function(t){e.$set(e.fromModel,n.key,t)},expression:"fromModel[item.key]"}},"el-radio-group",{...n.props},!1),e._l(n.children,(function(n){return t("el-radio",e._b({key:n.value,staticClass:"items",attrs:{label:n.value}},"el-radio",{...n.props},!1),[e._v(e._s(n.label))])})),1)],1):e._e()],1)])],1)})),t("div",[t("el-col",{attrs:{span:e.btnSpan}},[e.showBtn?t("div",{staticClass:"form-sbumit-box"},[t("el-button",{staticClass:"btn",attrs:{type:"primary",icon:e.btnIcon},on:{click:function(t){return t.stopPropagation(),e.submit("dzsForm")}}},[e._v(e._s(e.success_txt))]),t("el-button",{staticClass:"btn cancel",attrs:{type:"info"},on:{click:function(t){return t.stopPropagation(),e.Reset.apply(null,arguments)}}},[e._v("重置")]),e._t("footerBtn")],2):e._e()])],1)],2)],1)],1)},a=[];const r={shortcuts:[{text:"最近一周",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick(e){const t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]};var s={name:"dzs-form-header",model:{prop:"value",event:"update:value"},props:{options:{type:Object,default:()=>({})},success_txt:{type:String,default:()=>"搜索"},showBtn:{type:Boolean,default:()=>!0},value:{type:Object,default:()=>({})},fromStatus:{type:String,default:()=>""},antiShakeTime:{type:Number,default:()=>1e3},btnSpan:{type:Number,default:()=>6},btnIcon:{type:String,default:()=>"el-icon-search"}},data(){return{fromModel:{},fromRules:{},formItem:[],formProps:{},pickerOptions:r,screenWidth:document.body.clientWidth,labelPosition:"left",timer:null,initDataTimer:null}},watch:{options:{handler(e,t){e.formItem&&e.formItem.length&&(this.initModel(e),this.initData(this.value||{},e))},deep:!0,immediate:!0},screenWidth:{handler(){this.options.formItem&&this.options.formItem.length&&this.initModel(this.options)}},value:{handler(e,t){e&&this.initData(this.value||{},this.options||{})},deep:!0,immediate:!0}},created(){window.onresize=()=>{this.screenWidth=document.body.clientWidth}},methods:{changeVaule(e,t){delete this.fromModel[t],this.$set(this.fromModel,t,e),this.$emit("update:value",this.fromModel),this.$emit("change",{value:e,key:t})},async submit(e="dzsForm"){let t=await this.debounce();if(t)return new Promise((t,n)=>{this.$refs[e].validate(e=>{if(!e)return this.$message.error("请填写完整信息"),n(),!1;{let e={},n=this.formItem;n.forEach(t=>{e[t.key]=this.fromModel[t.key],t.isNull&&delete e[t.key]}),this.$emit("Search",e),this.$emit("update:value",e),t(e)}})})},Reset(){this.initData({},this.options),this.$emit("update:value",this.fromModel),this.$emit("Reset")},initData(e,t){if(this.initDataTimer)return clearTimeout(this.initDataTimer),void(this.initDataTimer=null);this.initDataTimer=setTimeout(()=>{this.initDataTimer=null},500);let n=t.formItem||[],l={};n.forEach(e=>{if(e.defaultValue)l[e.key]=e.defaultValue;else switch(e.type){case"select":e.props&&e.props.multiple?l[e.key]=[]:l[e.key]="";break;case"checkbox":l[e.key]=[];break;case"switch":l[e.key]=!1;break;default:l[e.key]="";break}});for(let o in e)""==e[o]&&(e[o]=l[o]);this.fromModel={...l,...e}},initModel(e){this.labelPosition=this.screenWidth<=768?"top":"left",this.formProps=e.formProps||{},this.formItem=e.formItem,this.formItem.forEach(e=>{e.span=this.screenWidth<=768?24:e.span||6,this.fromRules[e.key]=e.rules||[]})},clearForm(){this.$refs["dzsForm"].resetFields()},getForm(){return this.$refs["dzsForm"]},setFormData(e){this.fromModel={...this.fromModel,...e}},debounce(){return new Promise((e,t)=>{if(this.timer)return this.$message({message:`请勿重复提交,${this.antiShakeTime/1e3} 秒后再试`,type:"warning"}),void e(!1);this.antiShakeTime&&(this.timer=setTimeout(()=>{clearTimeout(this.timer),this.timer=null},this.antiShakeTime)),e(!0)})}}},u=s,c=(n("69b0"),n("2877")),p=Object(c["a"])(u,i,a,!1,null,"1d6cd2e1",null),m=p.exports,d=n("ae0f"),f={props:{newIndex:{type:Boolean,default:()=>!1}},components:{dzsFormHeader:m},computed:{formOptions(){return{formProps:{"label-width":"100px"},formItem:[{label:"输入框",key:"input",type:"input",rules:[{required:!0,message:"请输入输入框名称",trigger:"blur"}],props:{placeholder:"请输入输入框",tips:"这个是一个输入框"},defaultValue:"我是一个默认值",span:6},{label:"下拉框",key:"select",type:"select",rules:[{required:!0,message:"请选择下拉框",trigger:"change"}],props:{placeholder:"请选择下拉框",clearable:!0},children:[{label:"参数1",value:1},{label:"参数2",value:2}],span:6},{label:"日期",key:"date",type:"date",span:8},{label:"开关",key:"switch",type:"switch",span:6},{label:"多选框",key:"checkbox",type:"checkbox",rules:[],props:{},children:[{label:"选项1",value:1},{label:"选项2",value:2}]},{label:"单选框",key:"radio",type:"radio",rules:[],props:{},children:[{label:"选项1",value:1},{label:"选项2",value:2}],defaultValue:1},{label:"自定义组件",key:"mySlot",type:"input",isSlot:!0,span:6}]}}},data(){return{code1:d["code1"],code2:d["code2"]}}},h=f,b=Object(c["a"])(h,l,o,!1,null,"31231c40",null);t["default"]=b.exports},"69b0":function(e,t,n){"use strict";n("c056")},ae0f:function(e,t,n){"use strict";n.r(t),n.d(t,"code1",(function(){return l})),n.d(t,"code2",(function(){return o}));const l='\n{\n    formProps : {} , //from表单属性 和饿了吗表单属性一样\n    fromItem : [\n            {\n                label: "", //输入框名称 非必填\n                key: "", //输入框key 必填\n                type : "", //类型 非必填 默认input 输入框 input select date switch checkbox radio uploadImg edit \n                children : [] , //列表数据 非必填\n                defaultValue : "" , //默认值 非必填\n                isHidden : false , //是否隐藏 非必填\n                props:{ }, //内部参数 饿了吗ui相同 非必填 tips type == uploadImg  参数见组件 特殊参数  tips 文字介绍说明\n                rules：{ } ,// 规则 饿了吗ui相同 非必填\n                isNull : false , //是否不需要添加到提交表单中  非必填\n                isSlot : false , //非必填 是否为自定义组件\n            }\n        ] \n    }\n    // value / v-model 返回值 表单数据\n\n    // 推荐用计算属性 很方便 只要后面的值改变了 里面就会改变\n',o='\n\n<dzs-form :options="formOptions">\n    <template #mySlot>\n        <el-button>我是自定义组件的button</el-button>\n    </template>\n</dzs-form>\n\nformOptions(){\n    return {\n        formProps : {\n            "label-width" : "110px",\n        },\n        formItem : [\n            {\n                label: "自定义组件", \n                key: "mySlot", \n                type : "input",\n                isSlot : true , \n                span : 24\n            },\n            {\n                label: "输入框", \n                key: "input", \n                type : "input",\n                rules:[\n                    { required: true, message: \'请输入输入框名称\', trigger: \'blur\' },\n                ],\n                props:{\n                    placeholder : "请输入输入框"\n                },\n                span : 24\n            },\n            {\n                label: "下拉框", \n                key: "select", \n                type : "select",\n                rules:[\n                    { required: true, message: \'请选择下拉框\', trigger: \'change\' },\n                ],\n                props:{\n                    placeholder : "请选择下拉框",\n                    clearable  : true\n                },\n                children:[\n                    {\n                        label : "参数1",\n                        value : 1\n                    },\n                    {\n                        label : "参数2",\n                        value : 2\n                    },\n                ],\n                span : 12\n            },\n            {\n                label : "日期",\n                key : "date",\n                type : "date",\n                span : 12\n            },\n            {\n                label : "开关",\n                key : "switch",\n                type : "switch",\n                span : 12\n            },\n            {\n                label: "多选框", \n                key: "checkbox", \n                type : "checkbox",\n                rules:[],\n                props:{},\n                children:[\n                    {\n                        label : "选项1",\n                        value : 1\n                    },\n                    {\n                        label : "选项2",\n                        value : 2\n                    },\n                ],\n            },\n            {\n                label: "单选框", \n                key: "radio", \n                type : "radio",\n                rules:[],\n                props:{},\n                children:[\n                    {\n                        label : "选项1",\n                        value : 1\n                    },\n                    {\n                        label : "选项2",\n                        value : 2\n                    },\n                ],\n                defaultValue : 1\n            },\n        ]\n    }\n}'},c056:function(e,t,n){}}]);
//# sourceMappingURL=chunk-5ca850d5.be2bbd72.js.map