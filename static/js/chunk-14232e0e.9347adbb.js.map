{"version":3,"sources":["webpack:///./src/components/dzs-upload-file/index.vue","webpack:///src/components/dzs-upload-file/index.vue","webpack:///./src/components/dzs-upload-file/index.vue?8c3e","webpack:///./src/components/dzs-upload-file/index.vue?bd77","webpack:///./src/components/dzs-form/index.vue?878e","webpack:///./src/components/dzs-upload-file/index.vue?e79d","webpack:///./src/components/dzs-form/index.vue","webpack:///./src/components/dzs-form/config.js","webpack:///./src/components/dzs-form/deepCopy.js","webpack:///./src/components/dzs-form/components/dzs-form-item.vue","webpack:///src/components/dzs-form/components/dzs-form-item.vue","webpack:///./src/components/dzs-form/components/dzs-form-item.vue?4778","webpack:///./src/components/dzs-form/components/dzs-form-item.vue?7329","webpack:///./src/components/dzs-form/components/dzs-item.vue","webpack:///src/components/dzs-form/components/dzs-item.vue","webpack:///./src/components/dzs-form/components/dzs-item.vue?f026","webpack:///./src/components/dzs-form/components/dzs-item.vue?680a","webpack:///src/components/dzs-form/index.vue","webpack:///./src/components/dzs-form/index.vue?2c07","webpack:///./src/components/dzs-form/index.vue?2695","webpack:///./src/components/dzs-form/index.js","webpack:///./src/components/dzs-upload-img/index.vue?65f1","webpack:///./src/components/dzs-upload-img/index.vue","webpack:///src/components/dzs-upload-img/index.vue","webpack:///./src/components/dzs-upload-img/index.vue?9e35","webpack:///./src/components/dzs-upload-img/index.vue?0b3a"],"names":["render","_vm","this","_c","_self","class","isPhone","attrs","action","multiple","fileList","limit","beforeUpload","handleSuccess","handleExceed","autoUpload","changeFile","staticClass","_v","slot","_s","maxSize","fileType","join","_e","staticRenderFns","name","model","prop","event","props","type","String","default","Number","Array","value","Boolean","data","watch","handler","val","immediate","length","map","item","url","uid","status","methods","file","split","indexOf","$message","error","size","res","fileInfo","path","uploadUrl","formItem","push","$emit","files","fromItem","raw","warning","component","formId","_b","directives","rawName","loadingOption","loading","expression","ref","ruleForm","noScroll","formBoxWidth","isScroll","style","height","loadingText","spinner","background","fromModel","fromRules","labelPosition","formProps","gutter","_l","index","isHidden","span","isSlot","_t","key","scopedSlots","_u","$slots","slotProps","slotName","fn","toolbar","getFromModelValue","on","changeVaule","getTips","proxy","tips","icon","showFooter","buttonFlex","showButton","$event","stopPropagation","onCancel","apply","arguments","bottonText","cancelText","onSubmit","submitText","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","deepCopy","obj","copy","isArray","hasOwnProperty","label","Object","slots","children","option","idx","toString","staticStyle","components","dzsUploadImg","dzsUploadFile","dzsEditor","required","keyPath","dzsFormItem","dzsItem","options","labelWidth","antiShakeTime","timer","initModel","deep","newValue","oldValue","setFormData","mounted","listenFormBoxWidth","clear","changeSpan","initFormProps","initFormItem","items","forEach","rules","defaultValuesByType","defaultValue","placeholder","getPlaceholder","transformKeysToNestedObject","result","keys","i","currentNode","j","currentKey","keyList","types","fisrtText","includes","clearForm","setTimeout","$refs","resetFields","getFormMethod","JSON","stringify","phoneToolbar","resizeObserver","ResizeObserver","entries","entry","width","contentRect","observe","document","querySelector","clearTimeout","sendData","Promise","resolve","reject","validate","valid","code","msg","isNull","dzsForm","install","Vue","imgStyle","handlePictureCardPreview","handleRemove","upFile","dialogVisible","dialogImageUrl","imgType","imgTypes","isLt2M","splice"],"mappings":"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","file":"static/js/chunk-14232e0e.9347adbb.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-upload',{class:{'upload-dzs' : true , 'upload-dzs-phone' : _vm.isPhone},attrs:{\"drag\":\"\",\"action\":_vm.action,\"multiple\":_vm.multiple,\"file-list\":_vm.fileList,\"limit\":_vm.limit,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"auto-upload\":_vm.autoUpload,\"on-change\":_vm.changeFile,\"show-file-list\":true}},[_c('i',{staticClass:\"el-icon-upload\"}),(!_vm.isPhone)?_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]):_c('div',{staticClass:\"el-upload__text\"},[_c('em',[_vm._v(\"点击上传文件\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_c('div',[_vm._v(\"只能上传不超过 \"+_vm._s(_vm.maxSize / 1024 / 1024)+\"M 的\"+_vm._s(_vm.fileType.join(\"、\"))+\"文件\")]),(_vm.limit > 1)?_c('div',[_vm._v(\"最多上传 \"+_vm._s(_vm.limit)+\" 个文件\")]):_vm._e()])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-upload :class=\"{'upload-dzs' : true , 'upload-dzs-phone' : isPhone}\" drag :action=\"action\" :multiple=\"multiple\" :file-list=\"fileList\" :limit=\"limit\"\r\n            :before-upload=\"beforeUpload\" :on-success=\"handleSuccess\" :on-exceed=\"handleExceed\"\r\n            :auto-upload=\"autoUpload\" :on-change=\"changeFile\" :show-file-list=\"true\">\r\n            <i class=\"el-icon-upload\"></i>\r\n            <div class=\"el-upload__text\" v-if=\"!isPhone\">将文件拖到此处，或<em>点击上传</em></div>\r\n            <div class=\"el-upload__text\" v-else><em>点击上传文件</em></div>\r\n            <div class=\"el-upload__tip\" slot=\"tip\">\r\n                <div>只能上传不超过 {{ maxSize / 1024 / 1024 }}M 的{{ fileType.join(\"、\") }}文件</div>\r\n                <div v-if=\"limit > 1\">最多上传 {{ limit }} 个文件</div>\r\n            </div>\r\n        </el-upload>\r\n    </div>\r\n</template>\r\n<script>\r\n/**\r\n * 文件上传组件\r\n * @props : action 上传地址 string\r\n * @props : limit 上传数量 number 默认1\r\n * @props : maxSize 最大上传大小 默认5M number\r\n * @props : fileType 文件类型 array 默认[\"doc\", \"docx\", \"ppt\", \"pptx\", \"zip\", \"rar\", \"pdf\", \"xls\", \"xlsx\", \"txt\", \"jpg\", \"png\", \"jpeg\"]\r\n * @props : value/v-model 值 array\r\n * @props : autoUpload 是否自动上传 默认true\r\n * \r\n * @methods : change 改变 function 返回所以文件list array\r\n * */\r\nexport default {\r\n    name: \"dzsUploadFile\",\r\n    model: {\r\n        prop: \"value\",\r\n        event: \"update:value\"\r\n    },\r\n    props: {\r\n        action: {\r\n            type: String,\r\n            default: () => {\r\n                return \"#\"\r\n            }\r\n        },\r\n        /**最多上传文件*/\r\n        limit: {\r\n            type: Number,\r\n            default: () => {\r\n                return 1\r\n            }\r\n        },\r\n        /**最大上传大小*/\r\n        maxSize: {\r\n            type: Number,\r\n            default: () => {\r\n                return 5 * 1024 * 1024\r\n            }\r\n        },\r\n        /**上传文件类型*/\r\n        fileType: {\r\n            type: Array,\r\n            default: () => {\r\n                return [\"doc\", \"docx\", \"ppt\", \"pptx\", \"zip\", \"rar\", \"pdf\", \"xls\", \"xlsx\", \"txt\", \"jpg\", \"png\", \"jpeg\"]\r\n            }\r\n        },\r\n        /**原始文件列表*/\r\n        value: {\r\n            type: Array,\r\n            default: () => {\r\n                return []\r\n            }\r\n        },\r\n        /**是否自动上传*/\r\n        autoUpload: {\r\n            type: Boolean,\r\n            default: () => {\r\n                return true\r\n            }\r\n        },\r\n        /**是否手机端*/\r\n        isPhone: {\r\n            type: Boolean,\r\n            default: () => {\r\n                return false\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            multiple: false,\r\n            fileList: []\r\n        }\r\n    },\r\n    watch: {\r\n        limit: {\r\n            handler(val) {\r\n                if (val == 1) {\r\n                    this.multiple = false\r\n                } else {\r\n                    this.multiple = true\r\n                }\r\n            },\r\n            immediate: true,\r\n        },\r\n        /**处理原始文件*/\r\n        value: {\r\n            handler(val) {\r\n                if (val.length > 0) {\r\n                    this.fileList = val.map((item) => {\r\n                        return {\r\n                            name: item.name,\r\n                            url: item.url,\r\n                            uid: item.uid,\r\n                            status: \"success\"\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            immediate: true,\r\n        }\r\n    },\r\n    methods: {\r\n        /**上传之前*/\r\n        beforeUpload(file) {\r\n            let fileType = file.name.split(\".\")[1];\r\n            if (this.fileType.indexOf(fileType) == -1) {\r\n                this.$message.error(`上传文件格式不正确`);\r\n                return false;\r\n            }\r\n            if (file.size > this.maxSize) {\r\n                this.$message.error(`上传文件大小不能超过 ${this.maxSize / 1024 / 1024}MB!`);\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        /**上传成功*/\r\n        handleSuccess(res, file) {\r\n            let fileInfo = {\r\n                name: file.name,\r\n                path: res.path ? res.path : \"\",\r\n                uploadUrl: res.url ? res.url : \"\",\r\n                uid: file.uid,\r\n                type: file.type,\r\n                formItem: \"upload-file\",\r\n                status: \"success\",\r\n            };\r\n            this.fileList.push(fileInfo);\r\n            this.$emit(\"update:value\", this.fileList);\r\n            this.$emit(\"change\", this.fileList);\r\n        },\r\n        /**文件改变*/\r\n        changeFile(files) {\r\n            if (!this.autoUpload) {\r\n                let fileInfo = {\r\n                    name: files.name,\r\n                    path: files.url,\r\n                    uploadUrl: files.url,\r\n                    uid: files.uid,\r\n                    type: files.type,\r\n                    status: \"success\",\r\n                    fromItem: \"upload-file\",\r\n                    file: files.raw\r\n                };\r\n                this.fileList.push(fileInfo);\r\n                this.$emit(\"update:value\", this.fileList);\r\n                this.$emit(\"change\", this.fileList);\r\n            }\r\n        },\r\n        /**超出文件个数限制时的钩子*/\r\n        handleExceed(files, fileList) {\r\n            this.$message.warning(`当前限制选择 ${this.limit} 个文件，本次选择了 ${files.length} 个文件，共选择了 ${files.length + fileList.length} 个文件`);\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.upload-dzs-phone{\r\n    width: 100%;\r\n    :deep(.el-upload) {\r\n        width: 100%;\r\n\r\n        .el-upload-dragger {\r\n            width: 100%;\r\n        }\r\n    }\r\n}\r\n</style>./index.vue","import mod from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=419f4d1c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=419f4d1c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"419f4d1c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/.store/sass-loader@10.2.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=28bf8408&prod&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/.store/sass-loader@10.2.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=419f4d1c&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dzs-form-box\",attrs:{\"id\":_vm.formId}},[_c('el-form',_vm._b({directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingOption.loading),expression:\"loadingOption.loading\"}],ref:_vm.formId,class:{ ruleForm: true, noScroll: _vm.loadingOption.loading, 'phone-form': _vm.formBoxWidth <= 768, 'form-box-scroll': _vm.isScroll },style:({ height: _vm.isScroll ? _vm.height : '100%' }),attrs:{\"element-loading-text\":_vm.loadingOption.loadingText,\"element-loading-spinner\":_vm.loadingOption.spinner,\"element-loading-background\":_vm.loadingOption.background,\"model\":_vm.fromModel,\"rules\":_vm.fromRules,\"label-position\":_vm.labelPosition}},'el-form',{ ..._vm.formProps },false),[_c('el-row',{attrs:{\"gutter\":_vm.gutter}},[_vm._l((_vm.formItem),function(item,index){return [(!item.isHidden)?_c('el-col',{attrs:{\"span\":item.span ? item.span : 24}},[(item.isSlot)?[_vm._t(item.key)]:_c('dzs-form-item',{attrs:{\"item\":item},scopedSlots:_vm._u([_vm._l((_vm.$slots),function(slotProps,slotName){return {key:slotName,fn:function(slotProps){return [_vm._t(slotName,null,null,slotProps)]}}}),{key:\"default\",fn:function(){return [_c('dzs-item',{attrs:{\"formBoxWidth\":_vm.formBoxWidth,\"toolbar\":_vm.toolbar,\"value\":_vm.getFromModelValue(item.key),\"item\":item},on:{\"change\":_vm.changeVaule}}),(_vm.getTips(item) && item.type != 'divider')?_c('div',{staticClass:\"from-item-tips\"},[_vm._v(\" \"+_vm._s(_vm.getTips(item))+\" \")]):_vm._e()]},proxy:true}],null,true)}),(item.type == 'divider')?[_c('el-divider',_vm._b({},'el-divider',{ ...item.props },false),[(item.props && item.props.tips)?_c('span',[_vm._v(_vm._s(item.props.tips))]):_vm._e(),(item.props && item.props.icon)?_c('i',{class:item.props.icon}):_vm._e()])]:_vm._e()],2):_vm._e()]})],2)],1),(_vm.showFooter)?_c('div',{class:['form-sbumit-box', _vm.buttonFlex]},[(_vm.showButton)?_c('el-button',{on:{\"click\":function($event){$event.stopPropagation();return _vm.onCancel.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.bottonText.cancelText ? _vm.bottonText.cancelText : '取消')+\" \")]):_vm._e(),_vm._t(\"footerBtn\"),(_vm.showButton)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onSubmit()}}},[_vm._v(\" \"+_vm._s(_vm.bottonText.submitText ? _vm.bottonText.submitText : '提交')+\" \")]):_vm._e()],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const pickerOptions = {\r\n\tshortcuts: [{\r\n\t\ttext: '最近一周',\r\n\t\tonClick(picker) {\r\n\t\t\tconst end = new Date();\r\n\t\t\tconst start = new Date();\r\n\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t}\r\n\t}, {\r\n\t\ttext: '最近一个月',\r\n\t\tonClick(picker) {\r\n\t\t\tconst end = new Date();\r\n\t\t\tconst start = new Date();\r\n\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t}\r\n\t}, {\r\n\t\ttext: '最近三个月',\r\n\t\tonClick(picker) {\r\n\t\t\tconst end = new Date();\r\n\t\t\tconst start = new Date();\r\n\t\t\tstart.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n\t\t\tpicker.$emit('pick', [start, end]);\r\n\t\t}\r\n\t}]\r\n}\r\n","const deepCopy = (obj) => {\r\n    if (typeof obj !== 'object' || obj === null) {\r\n        return obj;\r\n    }\r\n    let copy = Array.isArray(obj) ? [] : {};\r\n    for (let key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            copy[key] = deepCopy(obj[key]);\r\n        }\r\n    }\r\n    return copy;\r\n}\r\n\r\nexport default deepCopy;","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dzs-form-item\"},[_c('el-form-item',{attrs:{\"label\":_vm.item.label,\"prop\":_vm.item.key}},[_vm._t(`${_vm.item.key}Before`),(_vm.item.props && _vm.item.props.isSlot)?[_vm._t(`${_vm.item.key}`)]:_vm._t(\"default\"),_vm._t(`${_vm.item.key}After`)],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"dzs-form-item\">\r\n        <el-form-item :label=\"item.label\" :prop=\"item.key\">\r\n            <slot :name=\"`${item.key}Before`\"></slot>\r\n            <!-- 自定义组件 -->\r\n            <template v-if=\"item.props && item.props.isSlot\">\r\n                <slot :name=\"`${item.key}`\"></slot>\r\n            </template>\r\n            <slot v-else></slot>\r\n            <slot :name=\"`${item.key}After`\"></slot>\r\n        </el-form-item>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default{\r\n    name: \"dzsFormItem\",\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            default: () => {\r\n                return {};\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./dzs-form-item.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./dzs-form-item.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dzs-form-item.vue?vue&type=template&id=b02c710c\"\nimport script from \"./dzs-form-item.vue?vue&type=script&lang=js\"\nexport * from \"./dzs-form-item.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dzs-item\"},[(_vm.item.type == 'input')?[_c('el-input',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-input',{ ..._vm.item.props },false),[(_vm.item.slots)?_c('template',{slot:_vm.item.slots.name},[_vm._v(\" \"+_vm._s(_vm.item.slots.text)+\" \")]):_vm._e()],2)]:_vm._e(),(_vm.item.type == 'select')?[_c('el-select',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-select',{ ..._vm.item.props },false),_vm._l((_vm.item.children),function(option,idx){return _c('el-option',{key:option.value + (idx).toString(),staticStyle:{\"padding\":\"0 6px\"},attrs:{\"label\":option.label,\"value\":option.value}})}),1)]:_vm._e(),(_vm.item.type == 'number')?[_c('el-input-number',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-input-number',{ ..._vm.item.props },false))]:_vm._e(),(_vm.item.type == 'date')?[_c('el-date-picker',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-date-picker',{ ..._vm.item.props },false))]:_vm._e(),(_vm.item.type == 'time')?[_c('el-time-picker',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-time-picker',{ ..._vm.item.props },false))]:_vm._e(),(_vm.item.type == 'color')?[_c('el-color-picker',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-color-picker',{ ..._vm.item.props },false))]:_vm._e(),(_vm.item.type == 'switch')?[_c('el-switch',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-switch',{ ..._vm.item.props },false))]:_vm._e(),(_vm.item.type == 'checkbox')?[_c('el-checkbox-group',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-checkbox-group',{ ..._vm.item.props },false),_vm._l((_vm.item.children),function(option,idx){return _c('el-checkbox',_vm._b({key:option.value + idx,staticClass:\"items\",attrs:{\"label\":option.value}},'el-checkbox',{ ...option.props },false),[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),1)]:_vm._e(),(_vm.item.type == 'radio')?[_c('el-radio-group',_vm._b({attrs:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'el-radio-group',{ ..._vm.item.props },false),_vm._l((_vm.item.children),function(option,idx){return _c('el-radio',_vm._b({key:option.value + idx,staticClass:\"items\",attrs:{\"label\":option.value}},'el-radio',{ ...option.props },false),[_vm._v(\" \"+_vm._s(option.label)+\" \")])}),1)]:_vm._e(),(_vm.item.type == 'uploadImg')?[_c('dzs-upload-img',_vm._b({attrs:{\"value\":_vm.value},on:{\"change\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'dzs-upload-img',{ ..._vm.item.props },false))]:_vm._e(),(_vm.item.type == 'uploadFile')?[_c('dzs-upload-file',_vm._b({attrs:{\"isPhone\":_vm.formBoxWidth <= 768,\"value\":_vm.value},on:{\"change\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'dzs-upload-file',{ ..._vm.item.props },false))]:_vm._e(),(_vm.item.type == 'editor')?[_c('dzs-editor',_vm._b({attrs:{\"value\":_vm.value,\"toolbar\":_vm.toolbar,\"show_save\":false},on:{\"save\":function($event){return _vm.changeVaule($event, _vm.item.key)}}},'dzs-editor',{ ..._vm.item.props },false))]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"dzs-item\">\r\n        <!-- 输入框 -->\r\n        <template v-if=\"item.type == 'input'\">\r\n            <el-input :value=\"value\" v-bind=\"{ ...item.props }\" @input=\"changeVaule($event, item.key)\">\r\n                <template v-if=\"item.slots\" :slot=\"item.slots.name\">\r\n                    {{ item.slots.text }}\r\n                </template>\r\n            </el-input>\r\n        </template>\r\n        <!-- 选择框 -->\r\n        <template v-if=\"item.type == 'select'\">\r\n            <el-select :value=\"value\" v-bind=\"{ ...item.props }\" @input=\"changeVaule($event, item.key)\">\r\n                <el-option style=\"padding : 0 6px;\" v-for=\"(option, idx) in item.children\"\r\n                    :key=\"option.value + (idx).toString()\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n            </el-select>\r\n        </template>\r\n        <!-- 数字输入框 -->\r\n        <template v-if=\"item.type == 'number'\">\r\n            <el-input-number :value=\"value\" v-bind=\"{ ...item.props }\"\r\n                @input=\"changeVaule($event, item.key)\"></el-input-number>\r\n        </template>\r\n        <!-- 日期选择器 -->\r\n        <template v-if=\"item.type == 'date'\">\r\n            <el-date-picker :value=\"value\" v-bind=\"{ ...item.props }\"\r\n                @input=\"changeVaule($event, item.key)\"></el-date-picker>\r\n        </template>\r\n        <!-- 时间选择器 -->\r\n        <template v-if=\"item.type == 'time'\">\r\n            <el-time-picker :value=\"value\" v-bind=\"{ ...item.props }\"\r\n                @input=\"changeVaule($event, item.key)\"></el-time-picker>\r\n        </template>\r\n        <!-- 颜色选择器 -->\r\n        <template v-if=\"item.type == 'color'\">\r\n            <el-color-picker :value=\"value\" v-bind=\"{ ...item.props }\"\r\n                @input=\"changeVaule($event, item.key)\"></el-color-picker>\r\n        </template>\r\n        <!-- 开关 -->\r\n        <template v-if=\"item.type == 'switch'\">\r\n            <el-switch :value=\"value\" v-bind=\"{ ...item.props }\" @input=\"changeVaule($event, item.key)\"></el-switch>\r\n        </template>\r\n        <!-- 多选框 -->\r\n        <template v-if=\"item.type == 'checkbox'\">\r\n            <el-checkbox-group :value=\"value\" v-bind=\"{ ...item.props }\" @input=\"changeVaule($event, item.key)\">\r\n                <el-checkbox class=\"items\" v-for=\"(option, idx) in item.children\" v-bind=\"{ ...option.props }\"\r\n                    :key=\"option.value + idx\" :label=\"option.value\">\r\n                    {{ option.label }}\r\n                </el-checkbox>\r\n            </el-checkbox-group>\r\n        </template>\r\n        <!-- 单选框 -->\r\n        <template v-if=\"item.type == 'radio'\">\r\n            <el-radio-group :value=\"value\" v-bind=\"{ ...item.props }\" @input=\"changeVaule($event, item.key)\">\r\n                <el-radio class=\"items\" v-for=\"(option, idx) in item.children\" v-bind=\"{ ...option.props }\"\r\n                    :key=\"option.value + idx\" :label=\"option.value\">\r\n                    {{ option.label }}\r\n                </el-radio>\r\n            </el-radio-group>\r\n        </template>\r\n        <!-- 上传图片 -->\r\n        <template v-if=\"item.type == 'uploadImg'\">\r\n            <dzs-upload-img :value=\"value\" v-bind=\"{ ...item.props }\"\r\n                @change=\"changeVaule($event, item.key)\"></dzs-upload-img>\r\n        </template>\r\n        <!-- 上传文件 -->\r\n        <template v-if=\"item.type == 'uploadFile'\">\r\n            <dzs-upload-file :isPhone=\"formBoxWidth <= 768\" :value=\"value\" v-bind=\"{ ...item.props }\"\r\n                @change=\"changeVaule($event, item.key)\"></dzs-upload-file>\r\n        </template>\r\n        <!-- 富文本组件 -->\r\n        <template v-if=\"item.type == 'editor'\">\r\n            <dzs-editor :value=\"value\" :toolbar=\"toolbar\" v-bind=\"{ ...item.props }\"\r\n                @save=\"changeVaule($event, item.key)\" :show_save=\"false\">\r\n            </dzs-editor>\r\n        </template>\r\n    </div>\r\n</template>\r\n<script>\r\nimport dzsUploadImg from '../../dzs-upload-img/index.vue';\r\nimport dzsUploadFile from '../../dzs-upload-file/index.vue';\r\nimport dzsEditor from '../../dzs-editor/index.vue';\r\nexport default {\r\n    name: 'dzsItem',\r\n    components: {\r\n        dzsUploadImg,\r\n        dzsUploadFile,\r\n        dzsEditor\r\n    },\r\n    props: {\r\n        item: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n        value: {\r\n            type: [String, Number, Boolean, Object, Array , Date],\r\n            required: true\r\n        },\r\n        formBoxWidth: {\r\n            type: Number,\r\n            default: () => {\r\n                return 0\r\n            }\r\n        },\r\n        toolbar: {\r\n            type: Array,\r\n            default: () => {\r\n                return []\r\n            }\r\n        }\r\n\r\n    },\r\n    methods: {\r\n        changeVaule(value, keyPath) {\r\n            this.$emit('change', value, keyPath);\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./dzs-item.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./dzs-item.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./dzs-item.vue?vue&type=template&id=66fb57b0&scoped=true\"\nimport script from \"./dzs-item.vue?vue&type=script&lang=js\"\nexport * from \"./dzs-item.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66fb57b0\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div :id=\"formId\" class=\"dzs-form-box\">\r\n        <el-form v-loading=\"loadingOption.loading\" :element-loading-text=\"loadingOption.loadingText\"\r\n            :element-loading-spinner=\"loadingOption.spinner\" :element-loading-background=\"loadingOption.background\"\r\n            v-bind=\"{ ...formProps }\" :model=\"fromModel\" :rules=\"fromRules\" :label-position=\"labelPosition\"\r\n            :ref=\"formId\"\r\n            :class=\"{ ruleForm: true, noScroll: loadingOption.loading, 'phone-form': formBoxWidth <= 768, 'form-box-scroll': isScroll }\"\r\n            :style=\"{ height: isScroll ? height : '100%' }\">\r\n            <el-row :gutter=\"gutter\">\r\n                <template v-for=\"(item, index) in formItem\">\r\n                    <el-col :span=\"item.span ? item.span : 24\" v-if=\"!item.isHidden\">\r\n                        <!-- 自定义组件 -->\r\n                        <template v-if=\"item.isSlot\">\r\n                            <slot :name=\"item.key\"></slot>\r\n                        </template>\r\n                        <dzs-form-item v-else :item=\"item\">\r\n                            <template v-for=\"(slotProps, slotName) in $slots\" #[slotName]=\"slotProps\">\r\n                                <slot :name=\"slotName\" v-bind=\"slotProps\"></slot>\r\n                            </template>\r\n                            <template #default>\r\n                                <dzs-item :formBoxWidth=\"formBoxWidth\" :toolbar=\"toolbar\"\r\n                                    :value=\"getFromModelValue(item.key)\" :item=\"item\" @change=\"changeVaule\">\r\n                                </dzs-item>\r\n                                <div class=\"from-item-tips\" v-if=\"getTips(item) && item.type != 'divider'\">\r\n                                    {{ getTips(item) }}\r\n                                </div>\r\n                            </template>\r\n                        </dzs-form-item>\r\n                        <template v-if=\"item.type == 'divider'\">\r\n                            <el-divider v-bind=\"{ ...item.props }\">\r\n                                <span v-if=\"item.props && item.props.tips\">{{ item.props.tips }}</span>\r\n                                <i v-if=\"item.props && item.props.icon\" :class=\"item.props.icon\"></i>\r\n                            </el-divider>\r\n                        </template>\r\n                    </el-col>\r\n                </template>\r\n            </el-row>\r\n        </el-form>\r\n        <div :class=\"['form-sbumit-box', buttonFlex]\" v-if=\"showFooter\">\r\n            <el-button @click.stop=\"onCancel\" v-if=\"showButton\">\r\n                {{ bottonText.cancelText ? bottonText.cancelText : '取消' }}\r\n            </el-button>\r\n            <slot name=\"footerBtn\"></slot>\r\n            <el-button type=\"primary\" @click.stop=\"onSubmit()\" v-if=\"showButton\">\r\n                {{ bottonText.submitText ? bottonText.submitText : '提交'}}\r\n            </el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n\r\n/**\r\n * 表单组件\r\n * @author zs.duan\r\n * @date 2024-07-30\r\n * @props {Object} options 表单配置\r\n * @props {Object} options.formProps 表单配置 el-form配置\r\n * @props {Array} options.formItem 表单配置 \r\n * @props {Object} options.formItem.label 标签\r\n * @props {String} options.formItem.key 唯一标识\r\n * @props {String} options.formItem.type 表单类型 支持 input、textarea、number、select、date、switch、checkbox、radio、uploadImg 、uploadFile 、editor、divider\r\n * @props {Object} options.formItem.rules 表单验证规则 el-form-item 配置\r\n * @props {Object} options.formItem.props 更多配置 el-form-item 配置 uploadImg 、uploadFile 见组件\r\n * @props {Object} options.formItem.props.tips 底部提示文字\r\n * @props {Object} options.formItem.children 子选项配置 select 、radio 、uploadImg 、uploadFile配置\r\n * @props {Object} options.formItem.defaultValue 默认值 优先级低于 value\r\n * @props {Object} options.formItem.span el-col 配置\r\n * @props {Object} value 表单数据 支持v-model\r\n * @props {Object} bottonText 按钮文字\r\n * @props {String} bottonText.submitText 提交按钮文字\r\n * @props {String} bottonText.cancelText 取消按钮文字\r\n * @props {Boolean} showButton 是否显示按钮\r\n * @props {Boolean} showFooter 是否显示底部\r\n * @props {Number} antiShakeTime 防抖时间\r\n * @props {Object} loadingOption 加载配置\r\n * @props {Boolean} loadingOption.loading 是否开启loading\r\n * @props {String} loadingOption.loadingText loading文字\r\n * @props {String} loadingOption.spinner loading图标\r\n * @props {String} loadingOption.background loading背景色\r\n * @props {Number} gutter el-row 配置\r\n * @props {Boolean} isScroll 是否开启超出滚动\r\n * @props {String} heightform表单高度\r\n * \r\n * @event {Function} @change 值改变事件\r\n * @props {Number} gutter el-row 配置\r\n * @props {Boolean} isScroll 是否开启超出滚动\r\n * @props {String} heightform表单高度\r\n * \r\n * @event {Function} @change 值改变事件\r\n * @event {Function} @onSubmit 提交事件 返回一个Promise\r\n * @event {Function} @onCancel 取消事件\r\n * @event {Function} setFormData 设置表单数据 用ref调用\r\n * @event {Function} getFormMethod 获取el-form原始方法 用ref调用\r\n * \r\n * @slot {Object} footerBtn 底部按钮插槽\r\n * \r\n * */ \r\nimport { pickerOptions } from \"./config\";\r\nimport deepCopy from \"./deepCopy.js\";\r\nimport dzsFormItem from \"./components/dzs-form-item\";\r\nimport dzsItem from \"./components/dzs-item\";\r\nexport default {\r\n    name: \"dzsForm\",\r\n    model: {\r\n        prop: \"value\",\r\n        event: \"update:value\"\r\n    },\r\n    components: {\r\n        dzsFormItem,\r\n        dzsItem\r\n    },\r\n    props: {\r\n        options: {\r\n            type: Object,\r\n            default: () => {\r\n                return {\r\n                    formProps: {\r\n                        labelPosition: \"left\",\r\n                        labelWidth: \"80px\",\r\n                    },\r\n                    formItem: [],\r\n                };\r\n            },\r\n        },\r\n        value: {\r\n            type: Object,\r\n            default: () => {\r\n                return {};\r\n            },\r\n        },\r\n        bottonText: {\r\n            type: Object,\r\n            default: () => {\r\n                return {\r\n                    submitText: \"提交\",\r\n                    cancelText: \"取消\"\r\n                };\r\n            },\r\n        },\r\n        showButton: {\r\n            type: Boolean,\r\n            default: () => {\r\n                return true;\r\n            },\r\n        },\r\n        showFooter: {\r\n            type: Boolean,\r\n            default: () => {\r\n                return true\r\n            }\r\n        },\r\n        /**防抖时间*/\r\n        antiShakeTime: {\r\n            type: Number,\r\n            default: () => {\r\n                return 1000\r\n            }\r\n        },\r\n        loadingOption: {\r\n            type: Object,\r\n            default: () => {\r\n                return {\r\n                    background: \"rgba(0,0,0,0.5)\",\r\n                    text: \"加载中...\",\r\n                    spinner: \"el-icon-loading\",\r\n                    loading: false\r\n                }\r\n            }\r\n        },\r\n        /**el-row 配置*/\r\n        gutter: {\r\n            type: Number,\r\n            default: () => {\r\n                return 10\r\n            }\r\n        },\r\n        /**是否开启超出滚动*/\r\n        isScroll: {\r\n            type: Boolean,\r\n            default: () => {\r\n                return true\r\n            }\r\n        },\r\n        /**form表单高度*/\r\n        height: {\r\n            type: String,\r\n            default: () => {\r\n                return \"100%\"\r\n            }\r\n        },\r\n        /**botton位置*/\r\n        buttonFlex: {\r\n            type: String,\r\n            default: () => {\r\n                return \"right\"\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            fromModel: {},\r\n            fromRules: {},\r\n            formItem: [], //表单初始数据\r\n            formProps: {}, //表单配置\r\n            pickerOptions: pickerOptions,\r\n            formBoxWidth: 0, //form-box宽度\r\n            labelPosition: \"left\", //对其方式\r\n            timer: null, //定时器 防止重复提交\r\n            toolbar: [],\r\n            formId: `dzsForm${new Date().getTime()}`\r\n        }\r\n    },\r\n    watch: {\r\n        options: {\r\n            handler(val) {\r\n                if (!val.formItem || !val.formItem.length) return;\r\n                this.initModel();\r\n            },\r\n            deep: true,\r\n            immediate: true,\r\n        },\r\n        value: {\r\n            handler(newValue, oldValue) {\r\n                if (!newValue) return;\r\n                this.setFormData(newValue);\r\n            },\r\n            deep: true,\r\n            immediate: true,\r\n        },\r\n    },\r\n    mounted() {\r\n        this.listenFormBoxWidth();\r\n    },\r\n    methods: {\r\n        /**\r\n         * 初始化model\r\n         * @param {Boolean} clear 是否value清空数据\r\n         * @param {Boolean} changeSpan 是否改变span\r\n         * */\r\n        initModel(clear = false, changeSpan) {\r\n            this.initFormProps(this.options.formProps);\r\n            this.initFormItem(deepCopy(this.options.formItem), clear, changeSpan);\r\n        },\r\n        /**\r\n         * 初始化form配置项\r\n         * @param {Object} options 表单配置项\r\n         * */\r\n        initFormProps(options) {\r\n            if (!options) return;\r\n            this.labelPosition = this.formBoxWidth <= 768 ? \"top\" : \"left\";\r\n            let labelPosition = options['label-position'] || options['labelPosition'];\r\n            if (labelPosition) this.labelPosition = labelPosition;\r\n            this.formProps = options;\r\n        },\r\n        /**\r\n         * 初始化formItem\r\n         * @param {Array} items 展示表单配置项\r\n         * @param {Boolean} clear 是否value清空数据\r\n         * @param {Boolean} changeSpan 是否改变span\r\n         * */\r\n        initFormItem(items, clear, changeSpan) {\r\n            if (changeSpan && this.formItem.length) {\r\n                this.formItem.forEach((item, index) => {\r\n                    item.span = this.formBoxWidth <= 768 ? 24 : items[index].span; //手机端默认24\r\n                })\r\n                return;\r\n            }\r\n            let fromModel = {};\r\n            let rules = {};\r\n            let formItem = [];\r\n            // 定义一个映射，用于根据表单项类型设置默认值  \r\n            const defaultValuesByType = {\r\n                'checkbox': [],\r\n                'uploadImg': [],\r\n                'uploadFile': [],\r\n                'switch': false,\r\n            };\r\n            items.forEach(item => {\r\n                item.span = this.formBoxWidth <= 768 ? 24 : item.span; //手机端默认24\r\n                if (this.value[item.key]) item.defaultValue = this.value[item.key];\r\n                if (defaultValuesByType.hasOwnProperty(item.type) && !item.defaultValue) {\r\n                    item.defaultValue = defaultValuesByType[item.type];\r\n                }\r\n                if (item.type == \"select\" && item.props.multiple && !item.defaultValue) item.defaultValue = [];\r\n                if (item.type == \"input\" && item.defaultValue) { // input框 在饿了吗ui 中需要是 string类型\r\n                    item.defaultValue = item.defaultValue.toString();\r\n                }\r\n                if (item.type != 'switch') { //其他处理\r\n                    item.defaultValue = item.defaultValue ? item.defaultValue : \"\";\r\n                } else {\r\n                    item.defaultValue = item.defaultValue ? item.defaultValue : false;\r\n                }\r\n                rules[item.key] = item.rules || [];\r\n                if (!item.props) item.props = {};\r\n                item.props.placeholder = this.getPlaceholder(item, item.type);\r\n                formItem.push(item);\r\n                if (clear) {\r\n                    fromModel[item.key] = item.defaultValue;\r\n                } else {\r\n                    fromModel[item.key] = this.value[item.key] || item.defaultValue;\r\n                }\r\n            });\r\n            this.fromModel = this.transformKeysToNestedObject(fromModel);\r\n            this.formItem = deepCopy(formItem);\r\n            this.fromRules = deepCopy(rules);\r\n        },\r\n        /**格式化值*/\r\n        transformKeysToNestedObject(obj) {\r\n            let result = {};\r\n\r\n            // 获取对象的所有键（避免在for-in循环中检查hasOwnProperty）  \r\n            const keys = Object.keys(obj);\r\n\r\n            for (let i = 0; i < keys.length; i++) {\r\n                const keyPath = keys[i].split('.');\r\n                const value = obj[keys[i]];\r\n                let currentNode = result;\r\n\r\n                // 遍历嵌套键数组，除了最后一个键  \r\n                for (let j = 0; j < keyPath.length - 1; j++) {\r\n                    const currentKey = keyPath[j];\r\n\r\n                    // 使用逻辑或运算符来避免额外的检查  \r\n                    currentNode = currentNode[currentKey] || (currentNode[currentKey] = {});\r\n                }\r\n\r\n                // 将最后一个键和值赋给当前节点  \r\n                currentNode[keyPath[keyPath.length - 1]] = value;\r\n            }\r\n\r\n            return result;\r\n        },\r\n        /**获取FromModel的参数*/\r\n        getFromModelValue(keyPath) {\r\n            let keyList = keyPath.split('.');\r\n            let value = this.fromModel;\r\n            for (let i = 0; i < keyList.length; i++) {\r\n                value = value[keyList[i]];\r\n            }\r\n            return value;\r\n        },\r\n        /**\r\n         * 设置 placeholder\r\n         * @param {Object} item 需要处理的对象\r\n         * @param {String} [type] 什么类型  默认input 支持 input select\r\n         * */\r\n        getPlaceholder(item, type) {\r\n            const types = ['date', 'time', 'select', 'uploadFile', 'uploadImg'];\r\n            let fisrtText = '请输入';\r\n            if (types.includes(type)) {\r\n                fisrtText = '请选择';\r\n            }\r\n            let placeholder = item.props ? item.props.placeholder ? item.props.placeholder : fisrtText + item.label : fisrtText + item.label\r\n            return placeholder\r\n        },\r\n        /**设置提示信息*/\r\n        getTips(item) {\r\n            if (item.props && item.props.tips) {\r\n                return item.props.tips\r\n            };\r\n            return \"\"\r\n        },\r\n        /**改变输入的值*/\r\n        changeVaule(value, keyPath) {\r\n            let keyList = keyPath.split('.');\r\n            let obj = this.fromModel;\r\n            for (let i = 0; i < keyList.length - 1; i++) {\r\n                obj = obj[keyList[i]];\r\n            }\r\n            obj[keyList[keyList.length - 1]] = value;\r\n            this.$emit(\"update:value\", this.fromModel);\r\n            this.$emit(\"change\", {\r\n                value: value,\r\n                key: keyPath,\r\n            });\r\n        },\r\n        /**清空表单数据*/\r\n        clearForm() {\r\n            this.initModel(true);\r\n            setTimeout(() => {\r\n                this.$refs[this.formId].resetFields();\r\n            }, 0)\r\n            this.$emit(\"update:value\", this.fromModel);\r\n        },\r\n\r\n        /**调用饿了么表单的原生方法*/\r\n        getFormMethod() {\r\n            return this.$refs[this.formId];\r\n        },\r\n        /**赋值*/\r\n        setFormData(data) {\r\n            if (JSON.stringify(data) == '{}' || !data) return;\r\n            this.fromModel = { ...deepCopy(data) };\r\n            // 避免数据未加载完毕时，数据未赋值\r\n            setTimeout(() => {\r\n                this.fromModel = { ...deepCopy(data) };\r\n            }, 100)\r\n        },\r\n        /**监听form-box宽度变化*/\r\n        listenFormBoxWidth() {\r\n            let phoneToolbar = [\"undo redo save | importword autosave fullscreen print help\"];\r\n            let toolbar = [\"undo redo save| formatselect | fontsizeselect | fontselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | lists image searchreplace | bullist numlist outdent indent |  media table insertdatetime | removeformat hr | importword autosave fullscreen print help\"];\r\n            const resizeObserver = new ResizeObserver(entries => {\r\n                for (let entry of entries) {\r\n                    const { width } = entry.contentRect;\r\n                    if (this.formBoxWidth == width) return\r\n                    this.formBoxWidth = width;\r\n                    this.labelPosition = width <= 768 ? \"top\" : \"left\";\r\n                    this.toolbar = width <= 768 ? phoneToolbar : toolbar;\r\n                    this.initModel(false, true);\r\n                }\r\n            })\r\n            resizeObserver.observe(document.querySelector(`#${this.formId}`));\r\n        },\r\n        /**点击取消*/\r\n        onCancel() {\r\n            this.clearForm();\r\n            this.$emit(\"onCancel\");\r\n        },\r\n        /**提交表单*/\r\n        onSubmit() {\r\n            if (this.timer) {\r\n                this.$message.error(`请勿重复提交,${this.antiShakeTime / 1000} 秒后再试`);\r\n                return\r\n            }\r\n            this.timer = setTimeout(() => {\r\n                clearTimeout(this.timer);\r\n                this.timer = null;\r\n            }, this.antiShakeTime);\r\n            let sendData = [];\r\n            return new Promise((resolve, reject) => {\r\n                this.$refs[this.formId].validate((valid) => {\r\n                    if (!valid) {\r\n                        this.$message.error(\"请完善表单信息\");\r\n                        reject({code : -1 , msg : \"请完善表单信息\" });\r\n                        return\r\n                    }\r\n                    this.formItem.forEach(item => {\r\n                        let keyPath = item.key.split('.');\r\n                        let value = this.fromModel;\r\n                        for (let i = 0; i < keyPath.length; i++) {\r\n                            value = value[keyPath[i]];\r\n                        }\r\n                        sendData[item.key] = value;\r\n                        if (item.isNull) delete sendData[item.key];\r\n                        sendData = this.transformKeysToNestedObject(sendData);\r\n                    })\r\n                    this.$emit(\"onSubmit\", sendData);\r\n                    this.$emit(\"update:value\", sendData);\r\n                    resolve(sendData);\r\n                });\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.dzs-form-box {\r\n    .from-item-tips {\r\n        font-size: 12px;\r\n        color: #ccc;\r\n        padding-top: 3px;\r\n        line-height: 14px;\r\n    }\r\n\r\n    .form-sbumit-box {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        padding: 10px 0;\r\n\r\n        &.right {\r\n            justify-content: flex-end;\r\n        }\r\n\r\n        &.left {\r\n            justify-content: flex-start;\r\n        }\r\n\r\n        &.center {\r\n            justify-content: center;\r\n        }\r\n    }\r\n\r\n    .form-box-scroll {\r\n        overflow-y: auto;\r\n        -ms-overflow-style: none;\r\n\r\n        /*IE10*/\r\n        &::-webkit-scrollbar {\r\n            display: none;\r\n        }\r\n    }\r\n\r\n    .phone-form {\r\n        min-width: 98%;\r\n        width: 98%;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=28bf8408&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=28bf8408&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28bf8408\",\n  null\n  \n)\n\nexport default component.exports","import dzsForm from \"./index.vue\";\r\n\r\ndzsForm.install = (Vue , options) =>{\r\n    Vue.component(dzsForm.name, dzsForm)\r\n}\r\n\r\nexport default dzsForm;","export * from \"-!../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/.store/sass-loader@10.2.0/node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7de77714&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"upload-img-box\"},[(_vm.fileList.length)?_c('div',{staticClass:\"show-img-box\",style:(_vm.imgStyle)},_vm._l((_vm.fileList),function(item,index){return _c('div',{key:index},[_c('img',{staticClass:\"el-upload-list__item-thumbnail\",style:(_vm.imgStyle),attrs:{\"src\":item.url,\"alt\":\"\"}}),_c('div',{staticClass:\"el-upload-list__item-actions\",style:(_vm.imgStyle)},[_c('div',{staticClass:\"el-upload-actions\"},[_c('i',{staticClass:\"el-icon-zoom-in\",on:{\"click\":function($event){return _vm.handlePictureCardPreview(item)}}}),_c('i',{staticClass:\"el-icon-delete\",on:{\"click\":function($event){return _vm.handleRemove(index)}}})])])])}),0):_vm._e(),_c('div',{style:(_vm.imgStyle)},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.upFile,\"show-file-list\":false,\"list-type\":\"picture-card\",\"file-list\":_vm.fileList,\"limit\":_vm.limit,\"before-upload\":_vm.beforeUpload,\"on-success\":_vm.handleSuccess,\"on-exceed\":_vm.handleExceed,\"auto-upload\":_vm.autoUpload,\"on-change\":_vm.changeFile}},[_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"append-to-body\":true},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"upload-img-box\">\r\n        <div class=\"show-img-box\" v-if=\"fileList.length\" :style=\"imgStyle\">\r\n            <div v-for=\"(item,index) in fileList\" :key=\"index\">\r\n                <img class=\"el-upload-list__item-thumbnail\" :src=\"item.url\" alt :style=\"imgStyle\" />\r\n                <div class=\"el-upload-list__item-actions\" :style=\"imgStyle\">\r\n                    <div class=\"el-upload-actions\">\r\n                        <i class=\"el-icon-zoom-in\" @click=\"handlePictureCardPreview(item)\"></i>\r\n                        <i class=\"el-icon-delete\"  @click=\"handleRemove(index)\"></i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div :style=\"imgStyle\">\r\n            <el-upload\r\n                class=\"avatar-uploader\"\r\n                :action=\"upFile\"\r\n                :show-file-list=\"false\"\r\n                list-type=\"picture-card\"\r\n                :file-list=\"fileList\"\r\n                :limit=\"limit\"\r\n                :before-upload=\"beforeUpload\"\r\n                :on-success=\"handleSuccess\"\r\n                :on-exceed=\"handleExceed\"\r\n                :auto-upload=\"autoUpload\"\r\n                :on-change=\"changeFile\"\r\n            >\r\n                <i class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n        </div>\r\n        <!-- 预览 -->\r\n        <el-dialog :visible.sync=\"dialogVisible\" :append-to-body=\"true\">\r\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt />\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n/**\r\n * 上传图片组件\r\n * @author zs.duan\r\n * @date 2024-07-30\r\n * @props : upFile 上传地址 string\r\n * @props : limit 上传数量 number 默认1\r\n * @props : value/v-model 值 array\r\n * @props : imgStyle 图片样式 string 默认'width: 80px;height: 80px;'\r\n * @props : maxSize 最大上传大小 默认3M number\r\n * @props : imgType 图片类型 string 以逗号分隔\r\n * \r\n * @methods : change 改变 function 返回所以图片list array\r\n * @methods : upload-success 上传成功 function 返回当前图片信息 object\r\n * @methods : upload-remove 删除 function 返回所以图片list array\r\n * \r\n * \r\n*/ \r\nexport default {\r\n    name: \"dzsUploadImg\",\r\n    model: {\r\n        prop: \"value\",\r\n        event: \"update:value\",\r\n    },\r\n    props: {\r\n        upFile: {\r\n            type: String,\r\n            default: () => {\r\n                return \"#\";\r\n            },\r\n        },\r\n        value: {\r\n            type: Array | String,\r\n            default: () => {\r\n                return [];\r\n            },\r\n        },\r\n        imgStyle: {\r\n            type: String,\r\n            default: () => {\r\n                return \"width:80px;height:80px;\";\r\n            },\r\n        },\r\n        // 最大上传张数\r\n        limit: {\r\n            type: Number,\r\n            default: () => {\r\n                return 1;\r\n            },\r\n        },\r\n        // 最大上传大小\r\n        maxSize: {\r\n            type: Number,\r\n            default: () => {\r\n                return 3;\r\n            },\r\n        },\r\n        // 文件类型\r\n        imgType: {\r\n            type: String,\r\n            default: () => {\r\n                return \"image/jpeg,image/png,image/gif\";\r\n            },\r\n        },\r\n        autoUpload : {\r\n            type : Boolean,\r\n            default : ()=>{\r\n                return true\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            fileList: [],\r\n            dialogImageUrl: \"\",\r\n            dialogVisible: false,\r\n        };\r\n    },\r\n    watch: {\r\n        value:{\r\n            handler(val){\r\n                if(typeof val == \"string\"){\r\n                    this.fileList = val ? {\r\n                        uid : new Date().getTime(),\r\n                        url : val,\r\n                        status : \"success\",\r\n                        fromItem : \"upload-img\",\r\n                    } : [];\r\n                }else{\r\n                    this.fileList = val;\r\n                }\r\n            },\r\n            deep:true,\r\n            immediate:true,\r\n        }\r\n    },\r\n    methods: {\r\n        beforeUpload(file) {\r\n            let imgTypes = this.imgType.split(\",\");\r\n            let index = imgTypes.indexOf(file.type);\r\n            const isLt2M = file.size / 1024 / 1024 < this.maxSize;\r\n            if (index == -1) {\r\n                this.$message.error(\"请上传正确的图片格式\");\r\n            }\r\n            if (!isLt2M) {\r\n                this.$message.error(`上传图片大小不能超过 ${this.maxSize}MB!`);\r\n            }\r\n            return index != -1 && isLt2M;\r\n        },\r\n        // 上传成功\r\n        handleSuccess(res, file) {\r\n            let fileInfo = {\r\n                name: file.name,\r\n                path: res.path ? res.path : \"\",\r\n                uploadUrl: res.url ? res.url : \"\",\r\n                uid: file.uid,\r\n                url: file.url,\r\n                status: \"success\",\r\n                fromItem: \"upload-img\",\r\n                data : res,\r\n                file : file,\r\n            };\r\n            this.fileList.push(fileInfo);\r\n            this.$emit(\"update:value\", this.fileList);\r\n            this.$emit(\"upload-success\", fileInfo);\r\n            this.$emit(\"change\", this.fileList);\r\n        },\r\n        // 文件改变\r\n        changeFile(files){\r\n            if(!this.autoUpload){\r\n                let fileInfo = {\r\n                    name: files.name,\r\n                    path: files.url,\r\n                    uploadUrl: files.url,\r\n                    uid: files.uid,\r\n                    url: files.url,\r\n                    status: \"success\",\r\n                    fromItem: \"upload-img\",\r\n                    data : files.raw,\r\n                    file : files.raw,\r\n                };\r\n                this.fileList.push(fileInfo);\r\n                this.$emit(\"update:value\", this.fileList);\r\n                this.$emit(\"upload-success\", fileInfo);\r\n                this.$emit(\"change\", this.fileList);\r\n            }\r\n        },\r\n        // 超出限制\r\n        handleExceed(files, fileList) {\r\n            this.$message.warning(`当前上传图片数量已达上限${this.limit}张`);\r\n        },\r\n        // 预览\r\n        handlePictureCardPreview(file) {\r\n            this.dialogImageUrl = file.url;\r\n            this.dialogVisible = true;\r\n        },\r\n        // 删除\r\n        handleRemove(index) {\r\n            this.fileList.splice(index, 1);\r\n            this.$emit(\"change\",this.fileList);\r\n            this.$emit(\"update:value\", this.fileList);\r\n            this.$emit(\"upload-remove\", this.fileList);\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\r\n.upload-img-box {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    position: relative;\r\n    .show-img-box{\r\n        margin-right: 10px;\r\n        border: 1px dashed #c0ccda;\r\n        border-radius: 6px;\r\n        overflow: hidden;\r\n        position: relative;\r\n        .el-upload-list__item-actions{\r\n            position: absolute;\r\n            display: block;\r\n            width: 100%;\r\n            height: 100%;\r\n            top: 0;\r\n            left: 0;\r\n            text-align: center;\r\n            color: #fff;\r\n            opacity: 0;\r\n            background-color: rgba(0,0,0,.5);\r\n            transition: opacity .3s;\r\n            font-size: 24px;\r\n            \r\n            .el-upload-actions{\r\n                display: flex;\r\n                justify-content: center;\r\n                align-content: center;\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n                i{\r\n                    cursor: pointer;\r\n                    display: inline-block;\r\n                    margin-right: 5px;\r\n                    &:last-child{\r\n                        margin-right: 0;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            &:hover{\r\n                opacity: 1;\r\n            }\r\n        }\r\n    }\r\n    .avatar-uploader {\r\n        height: 100%;\r\n        :deep(.el-upload--picture-card) {\r\n            width: 100%;\r\n            height: 100%;\r\n            position: relative;\r\n            i {\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n            }\r\n        }\r\n        /deep/.el-upload--picture-card{\r\n            width: 100%;\r\n            height: 100%;\r\n            position: relative;\r\n            i {\r\n                position: absolute;\r\n                top: 50%;\r\n                left: 50%;\r\n                transform: translate(-50%, -50%);\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7de77714&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7de77714&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7de77714\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}