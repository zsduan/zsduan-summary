(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-515a3ce9","chunk-2d0c7af5","chunk-2d2226ba"],{4884:function(e,t,a){"use strict";var l=function(){var e=this,t=e._self._c;return t("div",[t("el-upload",{class:{"upload-dzs":!0,"upload-dzs-phone":e.isPhone},attrs:{drag:"",action:e.action,multiple:e.multiple,"file-list":e.fileList,limit:e.limit,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"auto-upload":e.autoUpload,"on-change":e.changeFile,"show-file-list":!0}},[t("i",{staticClass:"el-icon-upload"}),e.isPhone?t("div",{staticClass:"el-upload__text"},[t("em",[e._v("点击上传文件")])]):t("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),t("em",[e._v("点击上传")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t("div",[e._v("只能上传不超过 "+e._s(e.maxSize/1024/1024)+"M 的"+e._s(e.fileType.join("、"))+"文件")]),e.limit>1?t("div",[e._v("最多上传 "+e._s(e.limit)+" 个文件")]):e._e()])])],1)},i=[],r=(a("9805"),{name:"dzsUploadFile",model:{prop:"value",event:"update:value"},props:{action:{type:String,default:()=>"#"},limit:{type:Number,default:()=>1},maxSize:{type:Number,default:()=>5242880},fileType:{type:Array,default:()=>["doc","docx","ppt","pptx","zip","rar","pdf","xls","xlsx","txt","jpg","png","jpeg"]},value:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:()=>!0},isPhone:{type:Boolean,default:()=>!1}},data(){return{multiple:!1,fileList:[]}},watch:{limit:{handler(e){this.multiple=1!=e},immediate:!0},value:{handler(e){e.length>0&&(this.fileList=e.map(e=>({name:e.name,url:e.url,uid:e.uid,status:"success"})))},immediate:!0}},methods:{beforeUpload(e){let t=e.name.split(".")[1];return-1==this.fileType.indexOf(t)?(this.$message.error("上传文件格式不正确"),!1):!(e.size>this.maxSize)||(this.$message.error(`上传文件大小不能超过 ${this.maxSize/1024/1024}MB!`),!1)},handleSuccess(e,t){let a={name:t.name,path:e.path?e.path:"",uploadUrl:e.url?e.url:"",uid:t.uid,type:t.type,formItem:"upload-file",status:"success"};this.fileList.push(a),this.$emit("update:value",this.fileList),this.$emit("change",this.fileList)},changeFile(e){if(!this.autoUpload){let t={name:e.name,path:e.url,uploadUrl:e.url,uid:e.uid,type:e.type,status:"success",fromItem:"upload-file",file:e.raw};this.fileList.push(t),this.$emit("update:value",this.fileList),this.$emit("change",this.fileList)}},handleExceed(e,t){this.$message.warning(`当前限制选择 ${this.limit} 个文件，本次选择了 ${e.length} 个文件，共选择了 ${e.length+t.length} 个文件`)}}}),o=r,s=(a("a117"),a("1805")),n=Object(s["a"])(o,l,i,!1,null,"419f4d1c",null);t["a"]=n.exports},5257:function(e,t,a){"use strict";a.r(t),a.d(t,"code1",(function(){return l}));const l="\n<template>\n    <dzs-header-button @btnClick='btnClick'></dzs-header-button>\n</template>\n<script>\nimport dzsHeaderButton from \"@/components/dzs-header-button\";\nexdefault {\n    components : {\n        dzsHeaderButton\n    },\n    methods:{\n        btnClick(val) {\n            // do something\n        }\n    }\n}\n<\/script>\n"},"60d8":function(e,t,a){},"7dea":function(e,t,a){},a117:function(e,t,a){"use strict";a("7dea")},c63b:function(e,t,a){"use strict";var l=a("4884");l["a"].install=(e,t)=>{e.component(l["a"].name,l["a"])},t["a"]=l["a"]},c879:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("section",[t("public-item",{attrs:{title:"PC端"}},[t("dzs-header-button")],1),t("public-item",{attrs:{title:"手机端",code:e.code1}},[t("div",{staticClass:"phone-public"},[t("dzs-header-button")],1)]),t("public-item",{attrs:{title:"参数说明",list:e.tableData}}),t("public-item",{attrs:{title:"组件源代码查看",links:e.links}}),t("dzs-backtop",{attrs:{target:".el-main"}})],1)},i=[],r=function(){var e=this,t=e._self._c;return e.myRules.length?t("div",{staticClass:"dzs-header-btn-box",class:e.labelPosition},[e.getRules("add")?t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.exportMethod("add")}}},[e._v("添加")]):e._e(),e.getRules("import")?t("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"click"}},[t("dzs-upload-file",{attrs:{action:e.action,fileType:["xls","xlsx"]},on:{change:e.changeFile}}),t("el-button",{attrs:{slot:"reference",type:"primary",icon:"el-icon-upload2"},slot:"reference"},[e._v("导入")])],1):e._e(),e.getRules("delete")?t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.isBatchDelete},on:{click:e.batchDelete}},[e._v("删除全部")]):e._e(),e.getRules("export")?t("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.exportMethod("export")}}},[e._v(" 导出 ")]):e._e(),e.getRules(["export-all","export-current","export-select"])?t("el-dropdown",[t("el-button",{attrs:{type:"primary",icon:"el-icon-download"}},[t("span",[e._v("导出")]),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportAll")}}},[e._v("导出全部")])]),t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportCurrent")}}},[e._v("导出当前页面")])]),t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportSelect")}}},[e._v("导出选中")])])],1)],1):e._e(),e._t("default")],2):e._e()},o=[],s=a("c63b"),n={name:"dzsHeaderButton",props:{"label-position":{type:String,default:"right"},action:{type:String,default:()=>"#"},isBatchDelete:{type:Boolean,default:!1},rules:{type:Array,default:()=>["add","import","export","export-all","export-current","export-select","delete"]}},components:{dzsUploadFile:s["a"]},computed:{myRules(){return this.rules}},methods:{changeFile(e){this.$emit("change-file",e),this.$emit("changeFile",e)},batchDelete(){this.$confirm("是否要删除这些内容","确认删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{this.exportMethod("batchDelete"),this.exportMethod("batch-delete")})},exportMethod(e){this.$emit(e),this.$emit("btnClick",e)},getRules(e){return Array.isArray(e)?e.some(e=>this.myRules.includes(e)):this.myRules.includes(e)}}},p=n,d=(a("e333"),a("1805")),c=Object(d["a"])(p,r,o,!1,null,"19fac5b5",null),u=c.exports;u.install=(e,t)=>{e.component(u.name,u)};var m=u,h=a("5257"),f=a("cf12"),y={components:{dzsHeaderButton:m},data(){return{links:{href:"https://github.com/zsduan/zsduan-summary/blob/master/src/components/dzs-form/index.vue",title:"组件源码"},tableData:f["tableData"],code1:{title:"代码示例",code:h["code1"],lang:"vue"}}}},x=y,b=Object(d["a"])(x,l,i,!1,null,"03b589bc",null);t["default"]=b.exports},cf12:function(e,t,a){"use strict";a.r(t),a.d(t,"tableData",(function(){return l}));const l=[{key:"label-position",type:"props",parameterType:"String",desc:"标签的位置",remark:"left/right/top/bottom 默认right"},{key:"action",type:"props",parameterType:"String",desc:"上传地址",remark:""},{key:"isBatchDelete",type:"props",parameterType:"Boolean",desc:"是否启用批量删除",remark:""},{key:"rules",type:"props",parameterType:"Array",desc:"规则",remark:"add 添加|import 导入|export 导出|export-all 导出全部 |export-current 导出本页|export-select 导出选中|delete 删除全部"},{key:"changeFile",type:"methods",parameterType:"",desc:"文件改变时触发",remark:"可用于 用户自行处理文件上传"},{key:"btnClick",type:"methods",parameterType:"",desc:"按钮公共点击方法 返回按钮的key值",remark:"add | export | exportSelect | exportAll | exportCurrent | batchDelete"},{key:"@add",type:"methods",parameterType:"",desc:"添加事件",remark:""},{key:"@export",type:"methods",parameterType:"",desc:"导出",remark:""},{key:"@exportSelect",type:"methods",parameterType:"",desc:"导出选中",remark:""},{key:"@exportAll",type:"methods",parameterType:"",desc:"导出全部",remark:""},{key:"@exportCurrent",type:"methods",parameterType:"",desc:"导出当前页",remark:""},{key:"@batchDelete",type:"methods",parameterType:"",desc:"删除全部",remark:""}]},e333:function(e,t,a){"use strict";a("60d8")}}]);
//# sourceMappingURL=chunk-515a3ce9.862de2b8.js.map