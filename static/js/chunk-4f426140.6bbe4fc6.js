(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f426140","chunk-2d0cba96","chunk-2d224cb1"],{"230f":function(e,t,o){"use strict";o("5b52")},4155:function(e,t,o){"use strict";var i=function(){var e=this,t=e._self._c;return e.myRules.length?t("div",{staticClass:"dzs-header-btn-box",class:e.labelPosition},[e.getRules("add")?t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.exportMethod("add")}}},[e._v("添加")]):e._e(),e.getRules("import")?t("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"click"}},[t("dzs-upload-file",{attrs:{action:e.action,fileType:["xls","xlsx"]},on:{change:e.changeFile}}),t("el-button",{attrs:{slot:"reference",type:"primary",icon:"el-icon-upload2"},slot:"reference"},[e._v("导入")])],1):e._e(),e.getRules("delete")?t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.isBatchDelete},on:{click:e.batchDelete}},[e._v("删除全部")]):e._e(),e.getRules("export")?t("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.exportMethod("export")}}},[e._v(" 导出 ")]):e._e(),e.getRules(["export-all","export-current","export-select"])?t("el-dropdown",[t("el-button",{attrs:{type:"primary",icon:"el-icon-download"}},[t("span",[e._v("导出")]),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportAll")}}},[e._v("导出全部")])]),t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportCurrent")}}},[e._v("导出当前页面")])]),t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportSelect")}}},[e._v("导出选中")])])],1)],1):e._e(),e._t("default")],2):e._e()},s=[],a=o("c63b"),l={name:"dzsHeaderButton",props:{"label-position":{type:String,default:"right"},action:{type:String,default:()=>"#"},isBatchDelete:{type:Boolean,default:!1},rules:{type:Array,default:()=>["add","import","export","export-all","export-current","export-select","delete"]}},components:{dzsUploadFile:a["a"]},computed:{myRules(){return this.rules}},methods:{changeFile(e){this.$emit("change-file",e),this.$emit("changeFile",e)},batchDelete(){this.$confirm("是否要删除这些内容","确认删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{this.exportMethod("batchDelete"),this.exportMethod("batch-delete")})},exportMethod(e){this.$emit(e),this.$emit("btnClick",e)},getRules(e){return Array.isArray(e)?e.some(e=>this.myRules.includes(e)):this.myRules.includes(e)}}},r=l,n=(o("e333"),o("2877")),u=Object(n["a"])(r,i,s,!1,null,"19fac5b5",null),c=u.exports;c.install=(e,t)=>{e.component(c.name,c)};t["a"]=c},"4b2d":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e._self._c;return t("dzs-dialog",{attrs:{isShow:e.isShow,title:"用户管理"},on:{close:e.close,open:e.open}},[t("dzs-form",{attrs:{options:e.formOption},on:{onSubmit:e.onSubmit,onCancel:e.onCancel},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}})],1)},s=[],a=o("bb34"),l=o("6af8"),r={components:{dzsForm:a["a"],dzsDialog:l["a"]},props:{isShow:{type:Boolean,default:!1},dialogData:{type:Object,default:()=>({})}},computed:{formOption(){return{formProps:{labelWidth:"100px"},formItem:[{label:"姓名",key:"name",type:"input",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]},{label:"年龄",key:"age",type:"input",rules:[{required:!0,message:"请输入年龄",trigger:"blur"}]},{label:"性别",key:"sex",type:"select",children:[{label:"男",value:"男"},{label:"女",value:"女"}]},{label:"地址",key:"address",type:"input",props:{type:"textarea",rows:3}}]}}},data(){return{formData:{}}},methods:{open(){this.dialogData.id&&this.initFormData(this.dialogData)},close(){this.initFormData(),this.$emit("update:isShow",!1),this.$emit("close")},onCancel(){this.close()},initFormData(e){this.formData={name:"",age:"",sex:"",address:""},e&&Object.assign(this.formData,e)},onSubmit(){this.$emit("onHoldSearch"),this.close()}}},n=r,u=o("2877"),c=Object(u["a"])(n,i,s,!1,null,null,null);t["default"]=c.exports},"551c":function(e,t,o){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dzs-form-box",attrs:{id:e.formId}},[t("el-form",e._b({ref:e.formId,class:{"phone-form":e.formBoxWidth<=768},attrs:{model:e.fromModel,rules:e.fromRules,"label-position":e.labelPosition}},"el-form",{...e.formProps},!1),[t("el-row",{attrs:{gutter:e.gutter}},[e._l(e.formItem,(function(o,i){return[o.isHidden?e._e():t("el-col",{directives:[{name:"show",rawName:"v-show",value:o.isShow,expression:"item.isShow"}],key:i,attrs:{span:o.span?o.span:6}},[o.isSlot?[e._t(o.key)]:t("dzs-form-item",{attrs:{item:o},scopedSlots:e._u([e._l(e.$slots,(function(t,o){return{key:o,fn:function(t){return[e._t(o,null,null,t)]}}})),{key:"default",fn:function(){return[t("dzs-item",{attrs:{formBoxWidth:e.formBoxWidth,value:e.getFromModelValue(o.key),item:o},on:{change:e.changeVaule}}),e.getTips(o)&&"divider"!=o.type?t("div",{staticClass:"from-item-tips"},[e._v(" "+e._s(e.getTips(o))+" ")]):e._e()]},proxy:!0}],null,!0)})],2)]})),[t("el-col",{attrs:{span:e.btnSpan}},[t("div",{class:{"form-sbumit-box":!0,"form-sbumit-box-phone":24==this.btnSpan}},[e.showButton?t("el-button",{staticClass:"btn",attrs:{type:"primary",icon:e.btnIcon},on:{click:function(t){return t.stopPropagation(),e.onSubmit()}}},[e._v(" "+e._s(e.bottonText.submitText?e.bottonText.submitText:"搜索")+" ")]):e._e(),e.showButton?t("el-button",{on:{click:function(t){return t.stopPropagation(),e.onReset.apply(null,arguments)}}},[e._v(" "+e._s(e.bottonText.resetText?e.bottonText.resetText:"重置")+" ")]):e._e(),!e.openItems&&e.spanCount>18?t("el-button",{attrs:{type:"text"},on:{click:e.openItem}},[e._v("展开"),t("i",{staticClass:"el-icon-arrow-down"})]):e._e(),e.openItems&&e.spanCount>18?t("el-button",{attrs:{type:"text"},on:{click:e.retractItem}},[e._v("收起"),t("i",{staticClass:"el-icon-arrow-up"})]):e._e(),e._t("button")],2)])]],2)],1)],1)},s=[];o("14d9");const a={shortcuts:[{text:"最近一周",onClick(e){const t=new Date,o=new Date;o.setTime(o.getTime()-6048e5),e.$emit("pick",[o,t])}},{text:"最近一个月",onClick(e){const t=new Date,o=new Date;o.setTime(o.getTime()-2592e6),e.$emit("pick",[o,t])}},{text:"最近三个月",onClick(e){const t=new Date,o=new Date;o.setTime(o.getTime()-7776e6),e.$emit("pick",[o,t])}}]},l=e=>{if("object"!==typeof e||null===e)return e;let t=Array.isArray(e)?[]:{};for(let o in e)e.hasOwnProperty(o)&&(t[o]=l(e[o]));return t};var r=l,n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dzs-form-item"},[t("el-form-item",{attrs:{label:e.item.label,prop:e.item.key}},[e.item.props&&e.item.props.isSlot?[e._t(""+e.item.key)]:e._t("default")],2)],1)},u=[],c={name:"dzsFormItem",props:{item:{type:Object,default:()=>({})}}},p=c,m=o("2877"),d=Object(m["a"])(p,n,u,!1,null,null,null),h=d.exports,f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"dzs-item"},["input"==e.item.type?[t("el-input",e._b({attrs:{value:e.value},on:{input:function(t){return e.changeVaule(t,e.item.key)}}},"el-input",{...e.item.props},!1),[e.item.slots?t("template",{slot:e.item.slots.name},[e._v(" "+e._s(e.item.slots.text)+" ")]):e._e()],2)]:e._e(),"select"==e.item.type?[t("el-select",e._b({attrs:{value:e.value},on:{input:function(t){return e.changeVaule(t,e.item.key)}}},"el-select",{...e.item.props},!1),e._l(e.item.children,(function(e,o){return t("el-option",{key:e.value+o.toString(),staticStyle:{padding:"0 6px"},attrs:{label:e.label,value:e.value}})})),1)]:e._e(),"number"==e.item.type?[t("el-input-number",e._b({attrs:{value:e.value},on:{input:function(t){return e.changeVaule(t,e.item.key)}}},"el-input-number",{...e.item.props},!1))]:e._e(),"date"==e.item.type?[t("el-date-picker",e._b({attrs:{value:e.value},on:{input:function(t){return e.changeVaule(t,e.item.key)}}},"el-date-picker",{...e.item.props},!1))]:e._e(),"time"==e.item.type?[t("el-time-picker",e._b({attrs:{value:e.value},on:{input:function(t){return e.changeVaule(t,e.item.key)}}},"el-time-picker",{...e.item.props},!1))]:e._e(),"switch"==e.item.type?[t("el-switch",e._b({attrs:{value:e.value},on:{input:function(t){return e.changeVaule(t,e.item.key)}}},"el-switch",{...e.item.props},!1))]:e._e(),"checkbox"==e.item.type?[t("el-checkbox-group",e._b({attrs:{value:e.value},on:{input:function(t){return e.changeVaule(t,e.item.key)}}},"el-checkbox-group",{...e.item.props},!1),e._l(e.item.children,(function(o,i){return t("el-checkbox",e._b({key:o.value+i,staticClass:"items",attrs:{label:o.value}},"el-checkbox",{...o.props},!1),[e._v(" "+e._s(o.label)+" ")])})),1)]:e._e(),"radio"==e.item.type?[t("el-radio-group",e._b({attrs:{value:e.value},on:{input:function(t){return e.changeVaule(t,e.item.key)}}},"el-radio-group",{...e.item.props},!1),e._l(e.item.children,(function(o,i){return t("el-radio",e._b({key:o.value+i,staticClass:"items",attrs:{label:o.value}},"el-radio",{...o.props},!1),[e._v(" "+e._s(o.label)+" ")])})),1)]:e._e()],2)},b=[],y={name:"dzsItem",props:{item:{type:Object,required:!0},value:{type:[String,Number,Boolean,Object,Array,Date],required:!0},formBoxWidth:{type:Number,default:()=>0},toolbar:{type:Array,default:()=>[]}},methods:{changeVaule(e,t){this.$emit("change",e,t)}}},g=y,v=Object(m["a"])(g,f,b,!1,null,"703ec575",null),x=v.exports,k={name:"dzsSearchForm",components:{dzsFormItem:h,dzsItem:x},model:{prop:"value",event:"update:value"},props:{options:{type:Object,default:()=>({})},bottonText:{type:Object,default:()=>({submitText:"搜索",resetText:"重置"})},showButton:{type:Boolean,default:()=>!0},value:{type:Object,default:()=>({})},antiShakeTime:{type:Number,default:()=>1e3},gutter:{type:Number,default:()=>10},btnIcon:{type:String,default:()=>""}},data(){return{fromModel:{},fromRules:{},formItem:[],formProps:{},pickerOptions:a,formBoxWidth:0,labelPosition:"left",timer:null,formId:"dzsForm"+(new Date).getTime(),btnSpan:6,openItems:!1,retractItems:!1,spanCount:0}},watch:{options:{handler(e){e.formItem&&e.formItem.length&&this.initModel()},deep:!0,immediate:!0},value:{handler(e){e&&this.setFormData(e)},deep:!0,immediate:!0}},mounted(){this.listenFormBoxWidth()},methods:{initModel(e=!1,t){this.initFormProps(this.options.formProps),this.initFormItem(r(this.options.formItem),e,t)},initFormProps(e){if(!e)return;this.labelPosition=this.formBoxWidth<=768?"top":"left";let t=e["label-position"]||e["labelPosition"];t&&(this.labelPosition=t),this.formProps=e},initFormItem(e,t,o){if(o&&this.formItem.length)return void this.setItemShowspan(e);let i={},s={},a=[];const l={checkbox:[],switch:!1};e.forEach(e=>{e.span=this.formBoxWidth<=768?24:e.span,e.isShow=!0,e.props||(e.props={}),this.value[e.key]&&(e.defaultValue=this.value[e.key]),l.hasOwnProperty(e.type)&&!e.defaultValue&&(e.defaultValue=l[e.type]),"select"==e.type&&e.props.multiple&&!e.defaultValue&&(e.defaultValue=[]),"input"==e.type&&e.defaultValue&&(e.defaultValue=e.defaultValue.toString()),"switch"!=e.type?e.defaultValue=e.defaultValue?e.defaultValue:"":e.defaultValue=!!e.defaultValue&&e.defaultValue,s[e.key]=e.rules||[],e.props.placeholder=this.getPlaceholder(e,e.type),a.push(e),i[e.key]=t?e.defaultValue:this.value[e.key]||e.defaultValue}),this.fromModel=this.transformKeysToNestedObject(i),this.formItem=r(a),this.fromRules=r(s),this.setItemShowspan(e)},transformKeysToNestedObject(e){let t={};const o=Object.keys(e);for(let i=0;i<o.length;i++){const s=o[i].split("."),a=e[o[i]];let l=t;for(let e=0;e<s.length-1;e++){const t=s[e];l=l[t]||(l[t]={})}l[s[s.length-1]]=a}return t},setItemShowspan(e){let t=0;this.formItem.forEach((o,i)=>{o.span=this.formBoxWidth<=768?24:e[i].span||6,t+=o.span,o.isShow=!(t>18),this.openItems&&(o.isShow=!0),this.retractItems&&t>18&&(o.isShow=!1),this.formBoxWidth<768&&(o.isShow=!0)}),this.formBoxWidth<768&&(t=0),this.spanCount=t},getFromModelValue(e){let t=e.split("."),o=this.fromModel;for(let i=0;i<t.length;i++)o=o[t[i]];return o},getPlaceholder(e,t){const o=["date","time","select","uploadFile","uploadImg"];let i="请输入";o.includes(t)&&(i="请选择");let s=e.props&&e.props.placeholder?e.props.placeholder:i+e.label;return s},getTips(e){return e.props&&e.props.tips?e.props.tips:""},changeVaule(e,t){let o=t.split("."),i=this.fromModel;for(let s=0;s<o.length-1;s++)i=i[o[s]];i[o[o.length-1]]=e,this.$emit("update:value",this.fromModel),this.$emit("change",{value:e,key:t})},clearForm(){this.initModel(!0),setTimeout(()=>{this.$refs[this.formId].resetFields()},0),this.$emit("update:value",this.fromModel)},getFormMethod(){return this.$refs[this.formId]},setFormData(e){"{}"!=JSON.stringify(e)&&e&&(this.fromModel={...r(e)},setTimeout(()=>{this.fromModel={...r(e)}},100))},listenFormBoxWidth(){const e=new ResizeObserver(e=>{for(let t of e){const{width:e}=t.contentRect;if(this.formBoxWidth==e)return;this.formBoxWidth=e,this.labelPosition=e<=768?"top":"left",this.btnSpan=e<=765?24:6,this.initModel(!1,!0)}});e.observe(document.querySelector("#"+this.formId))},openItem(){this.openItems=!0,this.formItem.forEach(e=>{e.isShow=!0})},retractItem(){let e=0;this.formItem.forEach(t=>{e+=t.span,t.isShow=!(e>18)}),this.retractItems=!0,this.openItems=!1,setTimeout(()=>{this.retractItems=!1},200)},onReset(){this.clearForm(),this.$emit("onReset",this.fromModel)},onSubmit(){if(this.timer)return void this.$message.error(`请勿重复提交,${this.antiShakeTime/1e3} 秒后再试`);this.timer=setTimeout(()=>{clearTimeout(this.timer),this.timer=null},this.antiShakeTime);let e=[];return new Promise((t,o)=>{this.$refs[this.formId].validate(i=>{if(!i)return this.$message.error("请完善表单信息"),void o({code:-1,msg:"请完善表单信息"});this.formItem.forEach(t=>{let o=t.key.split("."),i=this.fromModel;for(let e=0;e<o.length;e++)i=i[o[e]];e[t.key]=i,t.isNull&&delete e[t.key],e=this.transformKeysToNestedObject(e)}),this.$emit("onSearch",e),this.$emit("update:value",e),t(e)})})}}},_=k,w=(o("230f"),Object(m["a"])(_,i,s,!1,null,"bc10e59a",null)),S=w.exports;S.install=(e,t)=>{e.component(S.name,S)};t["a"]=S},"5b52":function(e,t,o){},"9aac":function(e,t,o){},c63b:function(e,t,o){"use strict";var i=o("4884");i["a"].install=(e,t)=>{e.component(i["a"].name,i["a"])},t["a"]=i["a"]},de98:function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e._self._c;return t("section",[t("dzs-search-form",{attrs:{options:e.searchOption},on:{onSearch:e.onSearch,onReset:e.onReset}}),t("dzs-header-button",{attrs:{rules:e.rules},on:{btnClick:e.btnClick}}),t("dzs-table",{attrs:{tableHeader:e.tableHeaderOption,list:e.tableData,total:e.pageInfo.total,operation:e.tableActionOption},on:{change:e.changeTable}}),t("dialog-form",{attrs:{isShow:e.isShow,dialogData:e.dialogData},on:{onHoldSearch:e.onSearch,close:e.closeDialog}})],1)},s=[],a=o("551c"),l=o("4155"),r=o("68e6"),n=o("4b2d"),u=o("e23a"),c={components:{dzsSearchForm:a["a"],dzsHeaderButton:l["a"],dzsTable:r["a"],dialogForm:n["default"]},computed:{searchOption(){return{formProps:{labelPosition:"left",labelWidth:"100px"},formItem:[{label:"姓名",key:"name",type:"input"},{label:"年龄",key:"age",type:"input"},{label:"性别",key:"sex",type:"select",children:[{label:"男",value:"男"},{label:"女",value:"女"}]}]}}},data(){return{rules:["add","import","export-all","export-current","export-select","delete"],tableData:[{id:1,name:"王小虎",age:18,sex:"男",address:"上海市普陀区金沙江路 1518 弄"},{id:2,name:"王小妞",age:19,sex:"女",address:"上海市普陀区金沙江路1519 弄"}],pageInfo:{total:0,page:1,pageSize:10},tableHeaderOption:u["tableHeaderOption"],tableActionOption:u["tableActionOption"],dialogData:{},isShow:!1}},methods:{onSearch(e){e||(e={}),this.$message({message:"搜索成功:"+JSON.stringify(e),type:"success"})},onReset(){this.$message({message:"重置成功",type:"success"})},btnClick(e){if("add"==e)return this.dialogData={},void(this.isShow=!0);this.$message({message:"点击了按钮:"+e,type:"success"})},changeTable(e){if("edit"==e.status)return this.dialogData=e.data,void(this.isShow=!0);"delete"!=e.status?this.$message({message:"表格点击了:"+e.status,type:"success"}):this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"})})},closeDialog(){this.isShow=!1}}},p=c,m=o("2877"),d=Object(m["a"])(p,i,s,!1,null,"5ba8a0ad",null);t["default"]=d.exports},e23a:function(e,t,o){"use strict";o.r(t),o.d(t,"tableHeaderOption",(function(){return i})),o.d(t,"tableActionOption",(function(){return s}));const i=[{label:"序号",key:"id",width:"80px"},{label:"姓名",key:"name"},{label:"年龄",key:"age"},{label:"性别",key:"sex"},{label:"地址",key:"address",width:"300px"}],s=["edit","delete","detail"]},e333:function(e,t,o){"use strict";o("9aac")}}]);
//# sourceMappingURL=chunk-4f426140.6bbe4fc6.js.map