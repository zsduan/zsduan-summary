(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-729ec561","chunk-2d0de2d4","chunk-2d0cfcf3"],{3455:function(e,t,a){},3809:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[t("el-upload",{class:{"upload-dzs":!0,"upload-dzs-phone":e.isPhone},attrs:{drag:"",action:e.action,multiple:e.multiple,"file-list":e.fileList,limit:e.limit,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"auto-upload":e.autoUpload,"on-change":e.changeFile,"show-file-list":!0}},[t("i",{staticClass:"el-icon-upload"}),e.isPhone?t("div",{staticClass:"el-upload__text"},[t("em",[e._v("点击上传文件")])]):t("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),t("em",[e._v("点击上传")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t("div",[e._v("只能上传不超过 "+e._s(e.maxSize/1024/1024)+"M 的"+e._s(e.fileType.join("、"))+"文件")]),e.limit>1?t("div",[e._v("最多上传 "+e._s(e.limit)+" 个文件")]):e._e()])])],1)},r=[],l=(a("14d9"),{model:{prop:"value",event:"update:value"},props:{action:{type:String,default:()=>"#"},limit:{type:Number,default:()=>1},maxSize:{type:Number,default:()=>5242880},fileType:{type:Array,default:()=>["doc","docx","ppt","pptx","zip","rar","pdf","xls","xlsx","txt","jpg","png","jpeg"]},value:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:()=>!0},isPhone:{type:Boolean,default:()=>!1}},data(){return{multiple:!1,fileList:[]}},watch:{limit:{handler(e){this.multiple=1!=e},immediate:!0},value:{handler(e){e.length>0&&(this.fileList=e.map(e=>({name:e.name,url:e.url,uid:e.uid,status:"success"})))},immediate:!0}},methods:{beforeUpload(e){let t=e.name.split(".")[1];return-1==this.fileType.indexOf(t)?(this.$message.error("上传文件格式不正确"),!1):!(e.size>this.maxSize)||(this.$message.error(`上传文件大小不能超过 ${this.maxSize/1024/1024}MB!`),!1)},handleSuccess(e,t){let a={name:t.name,path:e.path?e.path:"",uploadUrl:e.url?e.url:"",uid:t.uid,type:t.type,formItem:"upload-file",status:"success"};this.fileList.push(a),this.$emit("update:value",this.fileList),this.$emit("change",this.fileList)},changeFile(e){if(!this.autoUpload){let t={name:e.name,path:e.url,uploadUrl:e.url,uid:e.uid,type:e.type,status:"success",fromItem:"upload-file",file:e.raw};this.fileList.push(t),this.$emit("update:value",this.fileList),this.$emit("change",this.fileList)}},handleExceed(e,t){this.$message.warning(`当前限制选择 ${this.limit} 个文件，本次选择了 ${e.length} 个文件，共选择了 ${e.length+t.length} 个文件`)}}}),s=l,o=(a("b298"),a("2877")),n=Object(o["a"])(s,i,r,!1,null,"2e9b139b",null);t["a"]=n.exports},"38bc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v("电脑端")]),t("div",{staticClass:"item"},[t("dzs-header-btn")],1),t("h2",[e._v("手机端")]),t("div",{staticClass:"item"},[t("div",{staticClass:"is-phone-public"},[t("div",{staticClass:"phone-box"},[t("dzs-header-btn")],1)])]),t("h2",[e._v("代码示例")]),t("div",{staticClass:"item"},[t("dzs-code",{attrs:{title:"代码示例",value:e.code1}})],1),t("h2",[e._v("参数说明")]),t("div",{staticClass:"item"},[t("dzs-table",{attrs:{tableHeader:e.descHeader,list:e.descData,showOperation:!1}})],1)])},r=[],l=function(){var e=this,t=e._self._c;return e.myRules.length?t("div",{staticClass:"dzs-header-btn-box",class:e.labelPosition},[e.getRules("add")?t("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.exportMethod("add")}}},[e._v("添加")]):e._e(),e.getRules("import")?t("el-popover",{attrs:{placement:"bottom",width:"400",trigger:"click"}},[t("dzs-upload-file",{attrs:{action:e.action,fileType:["xls","xlsx"]},on:{change:e.changeFile}}),t("el-button",{attrs:{slot:"reference",type:"primary",icon:"el-icon-upload2"},slot:"reference"},[e._v("导入")])],1):e._e(),e.getRules("delete")?t("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.isBatchDelete},on:{click:e.batchDelete}},[e._v("删除全部")]):e._e(),e.getRules("export")?t("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.exportMethod("export")}}},[e._v(" 导出 ")]):e._e(),e.getRules(["export-all","export-current","export-select"])?t("el-dropdown",[t("el-button",{attrs:{type:"primary",icon:"el-icon-download"}},[t("span",[e._v("导出")]),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportAll")}}},[e._v("导出全部")])]),t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportCurrent")}}},[e._v("导出当前页面")])]),t("el-dropdown-item",[t("div",{on:{click:function(t){return e.exportMethod("exportSelect")}}},[e._v("导出选中")])])],1)],1):e._e(),e._t("default")],2):e._e()},s=[],o=a("3809"),n={name:"DzsHeaderBtn",props:{"label-position":{type:String,default:"right"},action:{type:String,default:()=>"#"},isBatchDelete:{type:Boolean,default:!1},rules:{type:Array,default:()=>["add","import","export","export-all","export-current","export-select","delete"]}},components:{dzsUploadFile:o["a"]},computed:{myRules(){return this.rules}},methods:{changeFile(e){this.$emit("change-file",e),this.$emit("changeFile",e)},batchDelete(){this.$confirm("是否要删除这些内容","确认删除",{confirmButtonText:"删除",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$emit("batch-delete"),this.$emit("batchDelete")})},exportMethod(e){this.$emit(e),this.$emit("btnClick",e)},getRules(e){return Array.isArray(e)?e.some(e=>this.myRules.includes(e)):this.myRules.includes(e)}}},d=n,p=(a("54c3"),a("2877")),c=Object(p["a"])(d,l,s,!1,null,"464aa7ec",null),u=c.exports,m=a("8512"),h=a("64fe"),y={name:"public-button",components:{dzsHeaderBtn:u},data(){return{code1:m["code1"],descHeader:h["descHeader"],descData:h["descData"]}},methods:{}},f=y,x=Object(p["a"])(f,i,r,!1,null,"4b0ac4f6",null);t["default"]=x.exports},"54c3":function(e,t,a){"use strict";a("3455")},"64fe":function(e,t,a){"use strict";a.r(t),a.d(t,"descHeader",(function(){return i})),a.d(t,"descData",(function(){return r}));const i=[{key:"key",label:"名称"},{key:"type",label:"类型",width:"120px"},{key:"parameterType",label:"参数类型",width:"120px"},{label:"说明",key:"desc"},{label:"备注",key:"remark"}],r=[{key:"label-position",type:"props",parameterType:"String",desc:"标签的位置",remark:"left/right/top/bottom 默认right"},{key:"action",type:"props",parameterType:"String",desc:"上传地址",remark:""},{key:"isBatchDelete",type:"props",parameterType:"Boolean",desc:"是否启用批量删除",remark:""},{key:"rules",type:"props",parameterType:"Array",desc:"规则",remark:"add 添加|import 导入|export 导出|export-all 导出全部 |export-current 导出本页|export-select 导出选中|delete 删除全部"},{key:"changeFile",type:"methods",parameterType:"",desc:"文件改变时触发",remark:"可用于 用户自行处理文件上传"},{key:"btnClick",type:"methods",parameterType:"",desc:"按钮公共点击方法 返回按钮的key值",remark:"add | export | exportSelect | exportAll | exportCurrent "},{key:"add",type:"methods",parameterType:"",desc:"添加事件",remark:""},{key:"export",type:"methods",parameterType:"",desc:"导出",remark:""},{key:"exportSelect",type:"methods",parameterType:"",desc:"导出选中",remark:""},{key:"exportAll",type:"methods",parameterType:"",desc:"导出全部",remark:""},{key:"exportCurrent",type:"methods",parameterType:"",desc:"导出当前页",remark:""},{key:"batchDelete",type:"methods",parameterType:"",desc:"删除全部",remark:""}]},8512:function(e,t,a){"use strict";a.r(t),a.d(t,"code1",(function(){return i}));const i='\nimport dzsHeaderBtn from "@/components/dzs-header-btn/index.vue";\n\ncomponents: {\n    dzsHeaderBtn,\n},\n\n<dzs-header-btn></dzs-header-btn>\n'},a362:function(e,t,a){},b298:function(e,t,a){"use strict";a("a362")}}]);
//# sourceMappingURL=chunk-729ec561.f70da816.js.map