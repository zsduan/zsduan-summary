(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fa758d4","chunk-2d0be728"],{"0b43":function(e,t,s){},"2ffd":function(e,t,s){"use strict";s.r(t),s.d(t,"code1",(function(){return i}));const i='\n/*\n * @name 计算时间差\n * @parame startDate Date / string 开始时间 必填\n * @parame endDate Date / string 结束时间 \n * @method success 成功返回 code 100网页成功 200网页和系统都成功\n * @method fail 失败返回\n * @return {\n      day : dayDiff, //天数\n      hours : hours, //小时\n      minutes : minutes, //分钟\n      seconds : seconds, //结束时间\n    }\n*/\n\n  //使用\n  import timeDifference from "@/utils/time-difference";\n  timeDifference({\n      startDate : date / string,\n      endDate : date / string,\n      success : (res)=>{}\n  })\n'},"4ac7":function(e,t,s){},"5fc4":function(e,t,s){},"733b":function(e,t,s){"use strict";s("0b43")},"9abf":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.newIndex?e._e():s("dzs-header",{attrs:{title:"时间差"}}),s("div",{staticClass:"page"},[s("h2",[e._v("基础用法")]),s("div",{staticClass:"item"},[s("dzs-form",{attrs:{options:e.formOptions},on:{onSubmit:e.onSubmit}}),s("div",{staticClass:"guid"},[e._v(e._s(e.time))]),s("dzs-code",{attrs:{title:"使用方法",value:e.code1}})],1),s("h2",[e._v("源代码下载/查看")]),e._m(0)]),e.newIndex?e._e():s("el-backtop",{attrs:{"visibility-height":20}})],1)},l=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"item"},[s("a",{attrs:{target:"_blank",href:"https://github.com/zsduan/zsduan-summary/blob/master/src/utils/time-difference.js"}},[e._v("下载/查看地址")])])}],a=(...e)=>{let t={startDate:null,endDate:null,success:e=>{},fail:e=>{}};if(t={...t,...e[0]},!t.startDate)return void t.fail({code:-1,msg:"startDate must be null"});let s="";"string"==typeof t.startDate?(s=t.startDate.replace(/T/g," "),s=new Date(s.replace(/-/g,"/"))):s=t.startDate,t.endDate&&"string"==typeof t.endDate&&(t.endDate=t.endDate.replace(/T/g," "),t.endDate=new Date(t.endDate.replace(/-/g,"/")));let i=t.endDate||new Date,l=s.getTime()-i.getTime(),a=Math.floor(l/864e5),o=l%864e5,r=Math.floor(o/36e5),n=o%36e5,p=Math.floor(n/6e4),c=n%6e4,d=Math.round(c/1e3);t.success({day:a,hours:r,minutes:p,seconds:d})},o=s("ac93"),r=s("2ffd"),n={props:{newIndex:{type:Boolean,default:()=>!1}},components:{dzsForm:o["a"]},computed:{formOptions(){return{formProps:{"label-width":"110px"},formItem:[{label:"开始时间",key:"startTime",type:"date",span:12,rules:[{required:!0,message:"请选择开始时间",trigger:"change"}],props:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择开始时间"}},{label:"结束时间",key:"endTime",type:"date",span:12,rules:[],props:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择结束时间"}}]}}},data(){return{time:{},code1:r["code1"]}},methods:{onSubmit(e){a({startDate:e.startTime,endDate:e.endTime,success:e=>{this.time=e}})}}},p=n,c=(s("e248"),s("e607")),d=Object(c["a"])(p,i,l,!1,null,"36f67cc1",null);t["default"]=d.exports},ac93:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-box"},[s("el-form",e._b({ref:"dzsForm",staticClass:"ruleForm",attrs:{model:e.fromModel,rules:e.fromRules,"label-position":e.labelPosition},nativeOn:{submit:function(t){return t.preventDefault(),e.submit("dzsForm")}}},"el-form",Object.assign({},e.formProps),!1),[s("el-row",{attrs:{gutter:10}},e._l(e.formItem,(function(t,i){return s("div",{key:i},[t.isHidden?e._e():s("el-col",{attrs:{span:t.span?t.span:24}},[t.isSlot?s("el-form-item",{attrs:{label:t.label}},[e._t(t.key)],2):e._e(),t.isSlot?e._e():s("div",["input"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[s("el-input",e._b({on:{input:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"el-input",Object.assign({},t.props),!1)),t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"select"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[s("el-select",e._b({on:{input:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"el-select",Object.assign({},t.props),!1),e._l(t.children,(function(e){return s("el-option",{key:e.value,staticStyle:{padding:"0 6px"},attrs:{label:e.label,value:e.value}})})),1),t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"date"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[s("el-date-picker",e._b({on:{input:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"el-date-picker",Object.assign({},t.props),!1)),t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"color"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[s("el-color-picker",e._b({on:{input:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"el-color-picker",Object.assign({},t.props),!1)),t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"switch"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[s("el-switch",e._b({on:{input:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"el-switch",Object.assign({},t.props),!1)),t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"checkbox"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[s("el-checkbox-group",e._b({on:{change:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"el-checkbox-group",Object.assign({},t.props),!1),e._l(t.children,(function(t,i){return s("el-checkbox",e._b({key:i,staticClass:"items",attrs:{label:t.value}},"el-checkbox",Object.assign({},t.props),!1),[e._v(e._s(t.label))])})),1),t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"radio"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[s("el-radio-group",e._b({on:{change:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"el-radio-group",Object.assign({},t.props),!1),e._l(t.children,(function(t){return s("el-radio",e._b({key:t.value,staticClass:"items",attrs:{label:t.value}},"el-radio",Object.assign({},t.props),!1),[e._v(e._s(t.label))])})),1),t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"uploadImg"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[s("dzs-upload-img",e._b({on:{change:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"dzs-upload-img",Object.assign({},t.props),!1)),t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"edit"==t.type?s("el-form-item",{attrs:{label:t.label,prop:t.key}},[t.props&&t.props.tips?s("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e(),s("dzs-editors",e._b({attrs:{show_save:!1},on:{save:function(s){return e.changeVaule(s,t.key)}},model:{value:e.fromModel[t.key],callback:function(s){e.$set(e.fromModel,t.key,s)},expression:"fromModel[item.key]"}},"dzs-editors",Object.assign({},t.props),!1))],1):e._e(),"divider"==t.type?s("div",[s("el-divider",e._b({},"el-divider",Object.assign({},t.props),!1),[t.props&&t.props.tips?s("span",[e._v(e._s(t.props.tips))]):e._e(),t.props&&t.props.icon?s("i",{class:t.props.icon}):e._e()])],1):e._e()],1)],1)],1)})),0)],1),e.showBtn?s("div",{staticClass:"form-sbumit-box"},[s("el-button",{staticClass:"btn cancel",attrs:{type:"info"},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("取消")]),e._t("footerBtn"),s("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.submit("dzsForm")}}},[e._v(e._s(e.success_txt))])],2):e._e()],1)},l=[];const a={shortcuts:[{text:"最近一周",onClick(e){const t=new Date,s=new Date;s.setTime(s.getTime()-6048e5),e.$emit("pick",[s,t])}},{text:"最近一个月",onClick(e){const t=new Date,s=new Date;s.setTime(s.getTime()-2592e6),e.$emit("pick",[s,t])}},{text:"最近三个月",onClick(e){const t=new Date,s=new Date;s.setTime(s.getTime()-7776e6),e.$emit("pick",[s,t])}}]};var o=s("d3a1"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"upload-img-box"},[e.fileList.length?s("div",{staticClass:"show-img-box",style:e.imgStyle},e._l(e.fileList,(function(t,i){return s("div",{key:i},[s("img",{staticClass:"el-upload-list__item-thumbnail",style:e.imgStyle,attrs:{src:t.url,alt:""}}),s("div",{staticClass:"el-upload-list__item-actions",style:e.imgStyle},[s("div",{staticClass:"el-upload-actions"},[s("i",{staticClass:"el-icon-zoom-in",on:{click:function(s){return e.handlePictureCardPreview(t)}}}),s("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.handleRemove(i)}}})])])])})),0):e._e(),s("div",{style:e.imgStyle},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.upFile,"show-file-list":!1,"list-type":"picture-card","file-list":e.fileList,limit:e.limit,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"auto-upload":e.autoUpload,"on-change":e.changeFile}},[s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},n=[],p=(s("149f"),{name:"dzs-upload-img",model:{prop:"value",event:"update:value"},props:{upFile:{type:String,default:()=>"#"},value:{type:Array,default:()=>[]},imgStyle:{type:String,default:()=>"width:80px;height:80px;"},limit:{type:Number,default:()=>1},maxSize:{type:Number,default:()=>3},imgType:{type:String,default:()=>"image/jpeg,image/png,image/gif"},autoUpload:{type:Boolean,default:()=>!0}},data(){return{fileList:[],dialogImageUrl:"",dialogVisible:!1}},watch:{value:{handler(e){this.fileList=e},deep:!0,immediate:!0}},methods:{beforeUpload(e){let t=this.imgType.split(","),s=t.indexOf(e.type);const i=e.size/1024/1024<this.maxSize;return-1==s&&this.$message.error("请上传正确的图片格式"),i||this.$message.error(`上传图片大小不能超过 ${this.maxSize}MB!`),-1!=s&&i},handleSuccess(e,t){let s={name:t.name,path:e.path?e.path:"",uploadUrl:e.url?e.url:"",uid:t.uid,url:t.url,status:"success",fromItem:"upload-img",data:e};this.fileList.push(s),this.$emit("update:value",this.fileList),this.$emit("upload-success",s),this.$emit("change",this.fileList)},changeFile(e){if(!this.autoUpload){let t={name:e.name,path:e.url,uploadUrl:e.url,uid:e.uid,url:e.url,status:"success",fromItem:"upload-img",data:e.row};this.fileList.push(t),this.$emit("update:value",this.fileList),this.$emit("upload-success",t),this.$emit("change",this.fileList)}console.log(e)},handleExceed(e,t){this.$message.warning(`当前上传图片数量已达上限${this.limit}张`)},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleRemove(e){this.fileList.splice(e,1),this.$emit("change",this.fileList),this.$emit("update:value",this.fileList),this.$emit("upload-remove",this.fileList)}}}),c=p,d=(s("733b"),s("e607")),u=Object(d["a"])(c,r,n,!1,null,"7ca67e1e",null),m=u.exports,f={name:"From",components:{dzsEditors:o["a"],dzsUploadImg:m},model:{prop:"value",event:"update:value"},props:{options:{type:Object,default:()=>({})},success_txt:{type:String,default:()=>"提交"},showBtn:{type:Boolean,default:()=>!0},value:{type:Object,default:()=>({})},fromStatus:{type:String,default:()=>""}},data(){return{fromModel:{},fromRules:{},formItem:[],formProps:{},pickerOptions:a,screenWidth:document.body.clientWidth,labelPosition:"left"}},watch:{options:{handler(e,t){e.formItem&&e.formItem.length&&this.initModel(e)},deep:!0,immediate:!0},screenWidth:{handler(){this.options.formItem&&this.options.formItem.length&&this.initModel(this.options)}}},created(){window.onresize=()=>{this.screenWidth=document.body.clientWidth}},methods:{changeVaule(e,t){delete this.fromModel[t],this.$set(this.fromModel,t,e),this.$emit("update:value",this.fromModel)},submit(e){this.$refs[e].validate(e=>{if(!e)return!1;{let e={};for(const t in this.fromModel)if(Object.hasOwnProperty.call(this.fromModel,t)){let s=this.formItem.filter(e=>e.key==t)[0];if(e[t]=this.fromModel[t],s){if("uploadImg"==s.type){let s=this.fromModel[t];e[t]="",s&&s.length>0&&(1==s.length?e[t]=s[0].uploadUrl:s.forEach(s=>{e[t]+=s.uploadUrl+","}))}"checkbox"==s.type&&(e[t]=this.fromModel[t].join(",")),"switch"==s.type&&(e[t]=this.fromModel[t]?1:0),s.isNull&&delete e[t]}}this.$emit("onSubmit",this.fromModel),this.$emit("update:value",this.fromModel)}})},cancel(){this.$emit("onCancel")},initModel(e){this.labelPosition=this.screenWidth<=768?"top":"left",this.formProps=e.formProps||{},this.formItem=e.formItem,this.formItem.forEach(e=>{e.span=this.screenWidth<=768?24:e.span,"checkbox"!==e.type&&"uploadImg"!==e.type||e.defaultValue||(e.defaultValue=[]),"switch"!=e.type||e.defaultValue&&"false"!=e.defaultValue||(e.defaultValue=!1),"input"==e.type&&e.defaultValue&&(e.defaultValue=e.defaultValue.toString()),e.props||(e.props={}),this.fromRules[e.key]=e.rules||[],e.defaultValue&&this.changeVaule(e.defaultValue,e.key),this.fromModel[e.key]=e.defaultValue||""})}}},h=f,b=(s("fd12"),Object(d["a"])(h,i,l,!1,null,"3e337928",null));t["a"]=b.exports},e248:function(e,t,s){"use strict";s("5fc4")},fd12:function(e,t,s){"use strict";s("4ac7")}}]);
//# sourceMappingURL=chunk-0fa758d4.ce070aa9.js.map