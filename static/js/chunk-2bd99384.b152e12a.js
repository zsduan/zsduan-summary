(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bd99384","chunk-2d217c99","chunk-2d21e193"],{"23f1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("section",[t("public-item",{attrs:{title:"基础用法",code:e.code1}},[t("dzs-upload-file",{on:{change:e.change}})],1),t("public-item",{attrs:{title:"参数说明",list:e.tableData}}),t("public-item",{attrs:{title:"组件源代码查看",links:e.links}}),t("dzs-backtop",{attrs:{target:".el-main"}})],1)},s=[],l=a("c63b"),n=a("c7e4"),p=a("d3b0"),o={components:{dzsUploadFile:l["a"]},data(){return{code1:{title:"代码示例",code:n["code1"],lang:"vue"},links:{href:"https://github.com/zsduan/zsduan-summary/blob/master/src/components/dzs-upload-file/index.vue",title:"组件源码"},tableData:p["tableData"]}},methods:{change(e){}}},r=o,d=a("1805"),u=Object(d["a"])(r,i,s,!1,null,"2afb1718",null);t["default"]=u.exports},4884:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",[t("el-upload",{class:{"upload-dzs":!0,"upload-dzs-phone":e.isPhone},attrs:{drag:"",action:e.action,multiple:e.multiple,"file-list":e.fileList,limit:e.limit,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"auto-upload":e.autoUpload,"on-change":e.changeFile,"show-file-list":!0}},[t("i",{staticClass:"el-icon-upload"}),e.isPhone?t("div",{staticClass:"el-upload__text"},[t("em",[e._v("点击上传文件")])]):t("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),t("em",[e._v("点击上传")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t("div",[e._v("只能上传不超过 "+e._s(e.maxSize/1024/1024)+"M 的"+e._s(e.fileType.join("、"))+"文件")]),e.limit>1?t("div",[e._v("最多上传 "+e._s(e.limit)+" 个文件")]):e._e()])])],1)},s=[],l=(a("9805"),{name:"dzsUploadFile",model:{prop:"value",event:"update:value"},props:{action:{type:String,default:()=>"#"},limit:{type:Number,default:()=>1},maxSize:{type:Number,default:()=>5242880},fileType:{type:Array,default:()=>["doc","docx","ppt","pptx","zip","rar","pdf","xls","xlsx","txt","jpg","png","jpeg"]},value:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:()=>!0},isPhone:{type:Boolean,default:()=>!1}},data(){return{multiple:!1,fileList:[]}},watch:{limit:{handler(e){this.multiple=1!=e},immediate:!0},value:{handler(e){e.length>0&&(this.fileList=e.map(e=>({name:e.name,url:e.url,uid:e.uid,status:"success"})))},immediate:!0}},methods:{beforeUpload(e){let t=e.name.split(".")[1];return-1==this.fileType.indexOf(t)?(this.$message.error("上传文件格式不正确"),!1):!(e.size>this.maxSize)||(this.$message.error(`上传文件大小不能超过 ${this.maxSize/1024/1024}MB!`),!1)},handleSuccess(e,t){let a={name:t.name,path:e.path?e.path:"",uploadUrl:e.url?e.url:"",uid:t.uid,type:t.type,formItem:"upload-file",status:"success"};this.fileList.push(a),this.$emit("update:value",this.fileList),this.$emit("change",this.fileList)},changeFile(e){if(!this.autoUpload){let t={name:e.name,path:e.url,uploadUrl:e.url,uid:e.uid,type:e.type,status:"success",fromItem:"upload-file",file:e.raw};this.fileList.push(t),this.$emit("update:value",this.fileList),this.$emit("change",this.fileList)}},handleExceed(e,t){this.$message.warning(`当前限制选择 ${this.limit} 个文件，本次选择了 ${e.length} 个文件，共选择了 ${e.length+t.length} 个文件`)}}}),n=l,p=(a("a117"),a("1805")),o=Object(p["a"])(n,i,s,!1,null,"419f4d1c",null);t["a"]=o.exports},"7dea":function(e,t,a){},a117:function(e,t,a){"use strict";a("7dea")},c63b:function(e,t,a){"use strict";var i=a("4884");i["a"].install=(e,t)=>{e.component(i["a"].name,i["a"])},t["a"]=i["a"]},c7e4:function(e,t,a){"use strict";a.r(t),a.d(t,"code1",(function(){return i}));const i='\n<template>\n    <section>\n        <dzs-upload-file @change="change"></dzs-upload-file>\n    </section>\n</template>\n<script>\nimport dzUploadFile from "@/components/dzs-upload-file"\nexport default {\n    components:{\n        dzUploadFile\n    },\n    methods: {\n        change(fileList){\n            // do something\n        }\n    }\n}\n<\/script>\n'},d3b0:function(e,t,a){"use strict";a.r(t),a.d(t,"tableData",(function(){return i}));const i=[{key:"action",type:"props",parameterType:"String",desc:"上传地址",remark:""},{key:"limit",type:"props",parameterType:"Number",desc:"上传数量",remark:"默认1"},{key:"maxSize",type:"props",parameterType:"Number",desc:"最大上传大小",remark:"默认5M"},{key:"fileType",type:"props",parameterType:"Array",desc:"文件类型",remark:"默认['doc', 'docx', 'ppt', 'pptx', 'zip', 'rar', 'pdf', 'xls', 'xlsx', 'txt', 'jpg', 'png', 'jpeg']"},{key:"value/v-model",type:"props",parameterType:"Array",desc:"值",remark:""},{key:"autoUpload",type:"props",parameterType:"Boolean",desc:"是否自动上传",remark:"默认true"},{key:"@change",type:"methods",parameterType:"Function",desc:"改变",remark:"返回所以文件list array"}]}}]);
//# sourceMappingURL=chunk-2bd99384.b152e12a.js.map