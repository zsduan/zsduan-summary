(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-450ba9e1","chunk-2d0a4d31"],{"07a5":function(e,t,n){"use strict";n.r(t),n.d(t,"code1",(function(){return s}));const s='\n// html\n<ul class="my-list" ref="myList">\n    <li\n        @dragover="Mydragover($event)"\n        @dragenter="Mydragenter($event , index)"\n        @dragstart="MyDragstart($event , index)"\n        @dragend="Mydragend"\n        draggable="true"\n        :class="item.active ? \'moving\' :\'\'"\n        class="list-item"\n        v-for="(item , index) in list"\n        :key="index"\n        >{{index + 1}} {{item.name}}</li>\n    </ul>\n// data\nlist: [\n    {\n        name: "张珊",\n        active: false,\n    },\n    {\n        name: "张三",\n        active: false,\n    },\n    {\n        name: "李四",\n        active: false,\n    },\n    {\n        name: "王五",\n        active: false,\n    },\n    {\n        name: "李二狗",\n        active: false,\n    },\n    {\n        name: "王麻子",\n        active: false,\n    },\n],\nsourceNode: null, //当前正在拖动的元素\nnewList: [],\n// js\nMyDragstart(e, index) {\n    setTimeout(() => {\n        this.list[index].active = true;\n    }, 10);\n    this.sourceNode = e.target;\n    e.dataTransfer.effectAllowed = "move";\n    if (!this.newList.length) {\n        this.newList = JSON.parse(JSON.stringify(this.list));\n    }\n},\nMydragend() {\n    this.list.forEach((v) => {\n        v.active = false;\n    });\n},\nMydragenter(e, index) {\n    e.preventDefault();\n    if (e.target == this.sourceNode) {\n        return;\n    }\n    const listNode = this.$refs.myList;\n    const children = Array.from(this.$refs.myList.children);\n    const sourceIndex = children.indexOf(this.sourceNode);\n    const targetIndex = children.indexOf(e.target);\n    const move = JSON.parse(JSON.stringify(this.list[sourceIndex]));\n    const target = JSON.parse(JSON.stringify(this.list[targetIndex]));\n    this.newList[targetIndex] = move;\n    this.newList[sourceIndex] = target;\n    if (sourceIndex < targetIndex) {\n        listNode.insertBefore(\n            this.sourceNode,\n            e.target.nextElementSibling\n        );\n    } else {\n        listNode.insertBefore(this.sourceNode, e.target);\n    }\n},\nMydragover(e) {\n    e.preventDefault();\n},\n'},"43bd":function(e,t,n){"use strict";n("a9f0")},a9f0:function(e,t,n){},af22:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e._self._c;return t("div",[e.newIndex?e._e():t("dzs-header",{attrs:{title:"拖动效果"}}),t("div",{staticClass:"page"},[t("h2",[e._v("效果展示")]),t("div",{staticClass:"item"},[t("div",{staticClass:"tips-box"},[e._v("仅支持电脑端 手机端 请使用 vue-draggable")]),t("ul",{ref:"myList",staticClass:"my-list"},e._l(e.list,(function(n,s){return t("li",{key:s,staticClass:"list-item",class:n.active?"moving":"",attrs:{draggable:"true"},on:{dragover:function(t){return e.Mydragover(t)},dragenter:function(t){return e.Mydragenter(t,s)},dragstart:function(t){return e.MyDragstart(t,s)},dragend:e.Mydragend}},[e._v(e._s(s+1)+" "+e._s(n.name))])})),0),t("dzs-code",{attrs:{title:"代码",value:e.code1}})],1),t("h2",[e._v("源代码下载/查看")]),e._m(0)]),e.newIndex?e._e():t("el-backtop",{attrs:{"visibility-height":20}})],1)},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"item"},[t("a",{attrs:{target:"_blank",href:"https://github.com/zsduan/zsduan-summary/blob/master/src/views/drag.vue"}},[e._v("下载/查看地址")])])}],r=n("07a5"),a={props:{newIndex:{type:Boolean,default:()=>!1}},data(){return{code1:r["code1"],list:[{name:"张珊",active:!1},{name:"张三",active:!1},{name:"李四",active:!1},{name:"王五",active:!1},{name:"李二狗",active:!1},{name:"王麻子",active:!1}],sourceNode:null,newList:[]}},mounted(){},methods:{MyDragstart(e,t){setTimeout(()=>{this.list[t].active=!0},10),this.sourceNode=e.target,e.dataTransfer.effectAllowed="move",this.newList.length||(this.newList=JSON.parse(JSON.stringify(this.list)))},Mydragend(){this.list.forEach(e=>{e.active=!1})},Mydragenter(e,t){if(e.preventDefault(),e.target==this.sourceNode)return;const n=this.$refs.myList,s=Array.from(this.$refs.myList.children),i=s.indexOf(this.sourceNode),r=s.indexOf(e.target),a=JSON.parse(JSON.stringify(this.list[i])),d=JSON.parse(JSON.stringify(this.list[r]));this.newList[r]=a,this.newList[i]=d,i<r?n.insertBefore(this.sourceNode,e.target.nextElementSibling):n.insertBefore(this.sourceNode,e.target)},Mydragover(e){e.preventDefault()}}},d=a,o=(n("43bd"),n("2877")),c=Object(o["a"])(d,s,i,!1,null,"7500c1d7",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-450ba9e1.76652d08.js.map