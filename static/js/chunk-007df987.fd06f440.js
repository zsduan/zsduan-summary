(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-007df987","chunk-2d228d0c"],{"0571":function(e,t,l){"use strict";l("0a18")},"0a18":function(e,t,l){},"0b43":function(e,t,l){},4142:function(e,t,l){"use strict";l.r(t);var s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[e.newIndex?e._e():l("dzs-header",{attrs:{title:"表单组件"}}),l("div",{staticClass:"page"},[l("h2",[e._v("基础用法")]),l("div",{staticClass:"item"},[l("dzs-form",{attrs:{options:e.formOptions},scopedSlots:e._u([{key:"mySlot",fn:function(){return[l("el-button",[e._v("我是自定义组件的button")])]},proxy:!0}])}),l("dzs-code",{attrs:{title:"源代码",value:e.code1}}),l("dzs-code",{attrs:{title:"全部配置",value:e.code2}})],1),l("h2",[e._v("更多功能")]),e._m(0),l("h2",[e._v("组件源代码下载")]),e._m(1)]),e.newIndex?e._e():l("el-backtop",{attrs:{"visibility-height":20}})],1)},i=[function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"item"},[l("div",{staticClass:"tips-box"},[e._v("自己在源代码去看")])])},function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"item"},[l("a",{attrs:{target:"_blank",href:"https://github.com/zsduan/zsduan-summary/blob/master/src/components/dzs-form/index.vue"}},[e._v("表单组件下载地址")])])}],o=l("ac93"),a=l("db91"),n={components:{dzsForm:o["a"]},props:{newIndex:{type:Boolean,default:()=>!1}},computed:{formOptions(){return{formProps:{"label-width":"110px"},formItem:[{label:"自定义组件",key:"mySlot",type:"input",isSlot:!0,span:24},{label:"输入框",key:"input",type:"input",rules:[{required:!0,message:"请输入输入框名称",trigger:"blur"}],props:{placeholder:"请输入输入框",tips:"这个是一个输入框"},span:24},{label:"下拉框",key:"select",type:"select",rules:[{required:!0,message:"请选择下拉框",trigger:"change"}],props:{placeholder:"请选择下拉框",clearable:!0},children:[{label:"参数1",value:1},{label:"参数2",value:2}],span:12},{label:"日期",key:"date",type:"date",span:12},{label:"开关",key:"switch",type:"switch",span:12},{label:"",key:"divider",type:"divider",span:24,props:{tips:"我是分割线"}},{label:"多选框",key:"checkbox",type:"checkbox",rules:[],props:{},children:[{label:"选项1",value:1},{label:"选项2",value:2}]},{label:"单选框 默认值",key:"radio",type:"radio",rules:[],props:{},children:[{label:"选项1",value:1},{label:"选项2",value:2}],defaultValue:1},{label:"图片",key:"uploadImg",type:"uploadImg",rules:[],props:{autoUpload:!1}},{label:"富文本",key:"edit",type:"edit",rules:[],props:{}}]}}},data(){return{code1:a["code1"],code2:a["code2"]}}},r=n,p=(l("0571"),l("e607")),u=Object(p["a"])(r,s,i,!1,null,"a3ed9728",null);t["default"]=u.exports},"4ac7":function(e,t,l){},"733b":function(e,t,l){"use strict";l("0b43")},ac93:function(e,t,l){"use strict";var s=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"form-box"},[l("el-form",e._b({ref:"dzsForm",staticClass:"ruleForm",attrs:{model:e.fromModel,rules:e.fromRules,"label-position":e.labelPosition},nativeOn:{submit:function(t){return t.preventDefault(),e.submit("dzsForm")}}},"el-form",Object.assign({},e.formProps),!1),[l("el-row",{attrs:{gutter:10}},e._l(e.formItem,(function(t,s){return l("div",{key:s},[t.isHidden?e._e():l("el-col",{attrs:{span:t.span?t.span:24}},[t.isSlot?l("el-form-item",{attrs:{label:t.label}},[e._t(t.key)],2):e._e(),t.isSlot?e._e():l("div",["input"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[l("el-input",e._b({on:{input:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"el-input",Object.assign({},t.props),!1)),t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"select"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[l("el-select",e._b({on:{input:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"el-select",Object.assign({},t.props),!1),e._l(t.children,(function(e){return l("el-option",{key:e.value,staticStyle:{padding:"0 6px"},attrs:{label:e.label,value:e.value}})})),1),t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"date"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[l("el-date-picker",e._b({on:{input:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"el-date-picker",Object.assign({},t.props),!1)),t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"color"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[l("el-color-picker",e._b({on:{input:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"el-color-picker",Object.assign({},t.props),!1)),t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"switch"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[l("el-switch",e._b({on:{input:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"el-switch",Object.assign({},t.props),!1)),t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"checkbox"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[l("el-checkbox-group",e._b({on:{change:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"el-checkbox-group",Object.assign({},t.props),!1),e._l(t.children,(function(t,s){return l("el-checkbox",e._b({key:s,staticClass:"items",attrs:{label:t.value}},"el-checkbox",Object.assign({},t.props),!1),[e._v(e._s(t.label))])})),1),t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"radio"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[l("el-radio-group",e._b({on:{change:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"el-radio-group",Object.assign({},t.props),!1),e._l(t.children,(function(t){return l("el-radio",e._b({key:t.value,staticClass:"items",attrs:{label:t.value}},"el-radio",Object.assign({},t.props),!1),[e._v(e._s(t.label))])})),1),t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"uploadImg"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[l("dzs-upload-img",e._b({on:{change:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"dzs-upload-img",Object.assign({},t.props),!1)),t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e()],1):e._e(),"edit"==t.type?l("el-form-item",{attrs:{label:t.label,prop:t.key}},[t.props&&t.props.tips?l("div",{staticClass:"from-item-tips"},[e._v(e._s(t.props.tips))]):e._e(),l("dzs-editors",e._b({attrs:{show_save:!1},on:{save:function(l){return e.changeVaule(l,t.key)}},model:{value:e.fromModel[t.key],callback:function(l){e.$set(e.fromModel,t.key,l)},expression:"fromModel[item.key]"}},"dzs-editors",Object.assign({},t.props),!1))],1):e._e(),"divider"==t.type?l("div",[l("el-divider",e._b({},"el-divider",Object.assign({},t.props),!1),[t.props&&t.props.tips?l("span",[e._v(e._s(t.props.tips))]):e._e(),t.props&&t.props.icon?l("i",{class:t.props.icon}):e._e()])],1):e._e()],1)],1)],1)})),0)],1),e.showBtn?l("div",{staticClass:"form-sbumit-box"},[l("el-button",{staticClass:"btn cancel",attrs:{type:"info"},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("取消")]),e._t("footerBtn"),l("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.submit("dzsForm")}}},[e._v(e._s(e.success_txt))])],2):e._e()],1)},i=[];const o={shortcuts:[{text:"最近一周",onClick(e){const t=new Date,l=new Date;l.setTime(l.getTime()-6048e5),e.$emit("pick",[l,t])}},{text:"最近一个月",onClick(e){const t=new Date,l=new Date;l.setTime(l.getTime()-2592e6),e.$emit("pick",[l,t])}},{text:"最近三个月",onClick(e){const t=new Date,l=new Date;l.setTime(l.getTime()-7776e6),e.$emit("pick",[l,t])}}]};var a=l("d3a1"),n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"upload-img-box"},[e.fileList.length?l("div",{staticClass:"show-img-box",style:e.imgStyle},e._l(e.fileList,(function(t,s){return l("div",{key:s},[l("img",{staticClass:"el-upload-list__item-thumbnail",style:e.imgStyle,attrs:{src:t.url,alt:""}}),l("div",{staticClass:"el-upload-list__item-actions",style:e.imgStyle},[l("div",{staticClass:"el-upload-actions"},[l("i",{staticClass:"el-icon-zoom-in",on:{click:function(l){return e.handlePictureCardPreview(t)}}}),l("i",{staticClass:"el-icon-delete",on:{click:function(t){return e.handleRemove(s)}}})])])])})),0):e._e(),l("div",{style:e.imgStyle},[l("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.upFile,"show-file-list":!1,"list-type":"picture-card","file-list":e.fileList,limit:e.limit,"before-upload":e.beforeUpload,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"auto-upload":e.autoUpload,"on-change":e.changeFile}},[l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),l("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},r=[],p=(l("149f"),{name:"dzs-upload-img",model:{prop:"value",event:"update:value"},props:{upFile:{type:String,default:()=>"#"},value:{type:Array,default:()=>[]},imgStyle:{type:String,default:()=>"width:80px;height:80px;"},limit:{type:Number,default:()=>1},maxSize:{type:Number,default:()=>3},imgType:{type:String,default:()=>"image/jpeg,image/png,image/gif"},autoUpload:{type:Boolean,default:()=>!0}},data(){return{fileList:[],dialogImageUrl:"",dialogVisible:!1}},watch:{value:{handler(e){this.fileList=e},deep:!0,immediate:!0}},methods:{beforeUpload(e){let t=this.imgType.split(","),l=t.indexOf(e.type);const s=e.size/1024/1024<this.maxSize;return-1==l&&this.$message.error("请上传正确的图片格式"),s||this.$message.error(`上传图片大小不能超过 ${this.maxSize}MB!`),-1!=l&&s},handleSuccess(e,t){let l={name:t.name,path:e.path?e.path:"",uploadUrl:e.url?e.url:"",uid:t.uid,url:t.url,status:"success",fromItem:"upload-img",data:e};this.fileList.push(l),this.$emit("update:value",this.fileList),this.$emit("upload-success",l),this.$emit("change",this.fileList)},changeFile(e){if(!this.autoUpload){let t={name:e.name,path:e.url,uploadUrl:e.url,uid:e.uid,url:e.url,status:"success",fromItem:"upload-img",data:e.row};this.fileList.push(t),this.$emit("update:value",this.fileList),this.$emit("upload-success",t),this.$emit("change",this.fileList)}console.log(e)},handleExceed(e,t){this.$message.warning(`当前上传图片数量已达上限${this.limit}张`)},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},handleRemove(e){this.fileList.splice(e,1),this.$emit("change",this.fileList),this.$emit("update:value",this.fileList),this.$emit("upload-remove",this.fileList)}}}),u=p,d=(l("733b"),l("e607")),c=Object(d["a"])(u,n,r,!1,null,"7ca67e1e",null),m=c.exports,f={name:"From",components:{dzsEditors:a["a"],dzsUploadImg:m},model:{prop:"value",event:"update:value"},props:{options:{type:Object,default:()=>({})},success_txt:{type:String,default:()=>"提交"},showBtn:{type:Boolean,default:()=>!0},value:{type:Object,default:()=>({})},fromStatus:{type:String,default:()=>""}},data(){return{fromModel:{},fromRules:{},formItem:[],formProps:{},pickerOptions:o,screenWidth:document.body.clientWidth,labelPosition:"left"}},watch:{options:{handler(e,t){e.formItem&&e.formItem.length&&this.initModel(e)},deep:!0,immediate:!0},screenWidth:{handler(){this.options.formItem&&this.options.formItem.length&&this.initModel(this.options)}}},created(){window.onresize=()=>{this.screenWidth=document.body.clientWidth}},methods:{changeVaule(e,t){delete this.fromModel[t],this.$set(this.fromModel,t,e),this.$emit("update:value",this.fromModel)},submit(e){this.$refs[e].validate(e=>{if(!e)return!1;{let e={};for(const t in this.fromModel)if(Object.hasOwnProperty.call(this.fromModel,t)){let l=this.formItem.filter(e=>e.key==t)[0];if(e[t]=this.fromModel[t],l){if("uploadImg"==l.type){let l=this.fromModel[t];e[t]="",l&&l.length>0&&(1==l.length?e[t]=l[0].uploadUrl:l.forEach(l=>{e[t]+=l.uploadUrl+","}))}"checkbox"==l.type&&(e[t]=this.fromModel[t].join(",")),"switch"==l.type&&(e[t]=this.fromModel[t]?1:0),l.isNull&&delete e[t]}}this.$emit("onSubmit",this.fromModel),this.$emit("update:value",this.fromModel)}})},cancel(){this.$emit("onCancel")},initModel(e){this.labelPosition=this.screenWidth<=768?"top":"left",this.formProps=e.formProps||{},this.formItem=e.formItem,this.formItem.forEach(e=>{e.span=this.screenWidth<=768?24:e.span,"checkbox"!==e.type&&"uploadImg"!==e.type||e.defaultValue||(e.defaultValue=[]),"switch"!=e.type||e.defaultValue&&"false"!=e.defaultValue||(e.defaultValue=!1),"input"==e.type&&e.defaultValue&&(e.defaultValue=e.defaultValue.toString()),e.props||(e.props={}),this.fromRules[e.key]=e.rules||[],e.defaultValue&&this.changeVaule(e.defaultValue,e.key),this.fromModel[e.key]=e.defaultValue||""})}}},h=f,b=(l("fd12"),Object(d["a"])(h,s,i,!1,null,"3e337928",null));t["a"]=b.exports},db91:function(e,t,l){"use strict";l.r(t),l.d(t,"code1",(function(){return s})),l.d(t,"code2",(function(){return i}));const s='\n{\n    formProps : {} , //from表单属性 和饿了吗表单属性一样\n    fromItem : [\n            {\n                label: "", //输入框名称 非必填\n                key: "", //输入框key 必填\n                type : "", //类型 非必填 默认input 输入框 input select date switch checkbox radio uploadImg edit \n                children : [] , //列表数据 非必填\n                defaultValue : "" , //默认值 非必填\n                isHidden : false , //是否隐藏 非必填\n                props:{ }, //内部参数 饿了吗ui相同 非必填 tips type == uploadImg  参数见组件 特殊参数  tips 文字介绍说明\n                rules：{ } ,// 规则 饿了吗ui相同 非必填\n                isNull : false , //是否不需要添加到提交表单中  非必填\n                isSlot : false , //非必填 是否为自定义组件\n            }\n        ] \n    }\n    // value / v-model 返回值 表单数据\n\n    // 推荐用计算属性 很方便 只要后面的值改变了 里面就会改变\n',i='\n\n<dzs-form :options="formOptions">\n    <template #mySlot>\n        <el-button>我是自定义组件的button</el-button>\n    </template>\n</dzs-form>\n\nformOptions(){\n    return {\n        formProps : {\n            "label-width" : "110px",\n        },\n        formItem : [\n            {\n                label: "自定义组件", \n                key: "mySlot", \n                type : "input",\n                isSlot : true , \n                span : 24\n            },\n            {\n                label: "输入框", \n                key: "input", \n                type : "input",\n                rules:[\n                    { required: true, message: \'请输入输入框名称\', trigger: \'blur\' },\n                ],\n                props:{\n                    placeholder : "请输入输入框"\n                },\n                span : 24\n            },\n            {\n                label: "下拉框", \n                key: "select", \n                type : "select",\n                rules:[\n                    { required: true, message: \'请选择下拉框\', trigger: \'change\' },\n                ],\n                props:{\n                    placeholder : "请选择下拉框",\n                    clearable  : true\n                },\n                children:[\n                    {\n                        label : "参数1",\n                        value : 1\n                    },\n                    {\n                        label : "参数2",\n                        value : 2\n                    },\n                ],\n                span : 12\n            },\n            {\n                label : "日期",\n                key : "date",\n                type : "date",\n                span : 12\n            },\n            {\n                label : "开关",\n                key : "switch",\n                type : "switch",\n                span : 12\n            },\n            {\n                label : "",\n                key : "divider",\n                type : "divider",\n                span : 24,\n                props:{\n                    tips : "我是分割线"\n                }\n            },\n            {\n                label: "多选框", \n                key: "checkbox", \n                type : "checkbox",\n                rules:[],\n                props:{},\n                children:[\n                    {\n                        label : "选项1",\n                        value : 1\n                    },\n                    {\n                        label : "选项2",\n                        value : 2\n                    },\n                ],\n            },\n            {\n                label: "单选框 默认值", \n                key: "radio", \n                type : "radio",\n                rules:[],\n                props:{},\n                children:[\n                    {\n                        label : "选项1",\n                        value : 1\n                    },\n                    {\n                        label : "选项2",\n                        value : 2\n                    },\n                ],\n                defaultValue : 1\n            },\n            {\n                label: "图片", \n                key: "uploadImg", \n                type : "uploadImg",\n                rules:[],\n                props:{\n                    autoUpload : false\n                },\n            },\n            {\n                label: "富文本", \n                key: "edit", \n                type : "edit",\n                rules:[],\n                props:{},\n            },\n        ]\n    }\n}'},fd12:function(e,t,l){"use strict";l("4ac7")}}]);
//# sourceMappingURL=chunk-007df987.fd06f440.js.map